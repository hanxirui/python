








<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  
  <meta name="robots" content="noindex,nofollow">
  

  <!--NEW RELIC Start Perf Measurement-->
  
  <!--NREND-->

  <!-- Le styles -->
  <link href="/static/build/styles.css" rel="stylesheet">

  <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- Le fav and touch icons -->
  <link rel="shortcut icon" href="/static/ico/ipynb_icon_16x16.png">
  <link rel="apple-touch-icon-precomposed" sizes="144x144" 
        href="/static/ico/apple-touch-icon-144-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="114x114" 
        href="/static/ico/apple-touch-icon-114-precomposed.png">
  <link rel="apple-touch-icon-precomposed" sizes="72x72" 
        href="/static/ico/apple-touch-icon-72-precomposed.png">
  <link rel="apple-touch-icon-precomposed" 
        href="/static/ico/apple-touch-icon-57-precomposed.png">
  
  

  

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Notebook on nbviewer">
  <meta name="twitter:description" content="Check out this Jupyter notebook!">

  
  <meta name="twitter:domain" content="nbviewer.ipython.org">
  <meta name="twitter:image:src" content="http://ipython.org/ipython-doc/dev/_images/ipynb_icon_128x128.png">

  
    <link href="/static/build/notebook.css" rel="stylesheet">
  

  

  
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript">
    </script>
    <script type="text/javascript">
      init_mathjax = function() {
        if (window.MathJax) {
          // MathJax loaded
          MathJax.Hub.Config({
            TeX: {
              equationNumbers: {
                autoNumber: "AMS",
                useLabelIds: true
              }
            },
            tex2jax: {
              inlineMath: [ ['$','$'], ["\\(","\\)"] ],
              displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
              processEscapes: true,
              processEnvironments: true
            },
            displayAlign: 'center',
            "HTML-CSS": {
              styles: {'.MathJax_Display': {"margin": 0}},
              linebreaks: { automatic: true }
            }
          });
          MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
      }
      init_mathjax();
    </script>
  

</head>

<body data-spy="scroll" data-target=".subnav" data-offset="50">

  <!-- These are loaded at the top of the body so they are available to 
       notebook cells when they are loaded below. -->
  <script src="/static/components/jquery/dist/jquery.min.js"></script>
  <script src="/static/components/requirejs/require.js"></script>
  <script src="/static/components/moment/min/moment.min.js"></script>

<!-- Navbar
================================================== -->
  <nav id="menubar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <i class="fa fa-bars"></i>
        </button>
        <a class="navbar-brand" href="/">nbviewer</a>
      </div>

      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li>
    <a href="/faq" title="FAQ" >
      
        <span>FAQ</span>
      
    </a>
  </li>
          <li class="">
            <a href="http://ipython.org">IPython</a>
          </li>
          <li class="">
            <a href="http://jupyter.org">Jupyter</a>
          </li>
        </ul>
        
        <ul class="nav navbar-nav navbar-right">
          
  
    
  

  
    <li>
    <a href="#" title="Python 3 Kernel" >
      <span class="fa fa-server fa-2x menu-icon"></span>
      <span class="menu-text">Python 3 Kernel</span>
    </a>
  </li>
  
  
  

  <li>
    <a href="http://norvig.com/ipython/Probability.ipynb" title="Download Notebook" download>
      <span class="fa fa-download fa-2x menu-icon"></span>
      <span class="menu-text">Download Notebook</span>
    </a>
  </li>

        </ul>
      </div><!-- /.navbar-collapse -->
      
      
    </div>
  </nav>

  <div class="container">
    
  
  <div id="notebook">
    <div id="notebook-container">
      
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div style="text-align: right">Peter Norvig, 3 Oct 2015</div><h1 id="Probability,-Paradox,-and-the-Reasonable-Person-Principle">Probability, Paradox, and the Reasonable Person Principle<a class="anchor-link" href="#Probability,-Paradox,-and-the-Reasonable-Person-Principle">&#182;</a></h1><p>In this notebook, we cover the basics of probability theory, and show how to implement the theory in Python. (You should have a little background in <a href="http://www.dartmouth.edu/~chance/teaching_aids/books_articles/probability_book/pdf.html">probability</a> and <a href="https://www.python.org/about/gettingstarted/">Python</a>.) Then we show how to solve some particularly perplexing paradoxical probability problems.</p>
<p>Over 200 years ago, Pierre-Simon Laplace <a href="https://en.wikipedia.org/wiki/Classical_definition_of_probability">wrote</a>:</p>
<blockquote><p>The probability of an event is the ratio of the number of cases favorable to it, to the number of all cases possible, when [the cases are] equally possible. ... Probability is thus simply a fraction whose numerator is the number of favorable cases and whose denominator is the number of all the cases possible.</p>
</blockquote>
<p>Laplace really nailed it, way back then. If you want to untangle a probability problem (paradoxical or not), all you have to do is be methodical about defining exactly what the cases are, and then careful in counting the number of favorable and total cases. We'll start being methodical by defining terms:</p>
<ul>
<li><strong><a href="https://en.wikipedia.org/wiki/Experiment_(probability_theory%29">Experiment</a>:</strong>
An occurrence with an uncertain outcome that we can observe.
<br><em>For example, rolling a die.</em></li>
<li><strong><a href="https://en.wikipedia.org/wiki/Outcome_(probability%29">Outcome</a>:</strong>
The result of an experiment; one particular state of the world. Synonym for "case."
<br><em>For example:</em> <code>6</code>.</li>
<li><strong><a href="https://en.wikipedia.org/wiki/Sample_space">Sample Space</a>:</strong>
The set of all possible outcomes for the experiment. (For now, assume each outcome is equally likely.)
<br><em>For example,</em> <code>{1, 2, 3, 4, 5, 6}</code>.</li>
<li><strong><a href="https://en.wikipedia.org/wiki/Event_(probability_theory%29">Event</a>:</strong>
A subset of possible outcomes that together have some property we are interested in.
<br><em>For example, the event "even die roll" is the set of outcomes</em> <code>{2, 4, 6}</code>. </li>
<li><strong><a href="https://en.wikipedia.org/wiki/Probability_theory">Probability</a>:</strong>
The number of possible outcomes in the event divided by the number in the sample space.
<br><em>For example, the probability of an even outcome from a six-sided die is</em> <code>|{2, 4, 6}| / |{1, 2, 3, 4, 5, 6}| = 3/6 = 1/2.</code></li>
</ul>
<h1 id="Definition-of-P-for-Probability-in-Python">Definition of <code>P</code> for Probability in Python<a class="anchor-link" href="#Definition-of-P-for-Probability-in-Python">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">fractions</span> <span class="k">import</span> <span class="n">Fraction</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="k">import</span> <span class="n">division</span>

<span class="k">def</span> <span class="nf">P</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">space</span><span class="p">):</span> 
    <span class="s">&quot;The probability of an event, given a sample space of equiprobable outcomes.&quot;</span>
    <span class="k">return</span> <span class="n">Fraction</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">event</span> <span class="o">&amp;</span> <span class="n">space</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">space</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Read this as <em>"Probability is thus simply a fraction whose numerator is the number of favorable cases (outcomes in the intersection of the sample space and the event) and whose denominator is the number of all the cases possible (the sample space)."</em> Note I use <code>Fraction</code> rather than regular division because I want exact answers like 1/3, not 0.3333333333333333.</p>
<h1 id="Warm-up-Problem:-Die-Roll">Warm-up Problem: Die Roll<a class="anchor-link" href="#Warm-up-Problem:-Die-Roll">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's consider the experiment of rolling a single six-sided fair die. We'll call the sample space <code>D</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">D</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The probability of the event of "<em>rolling an even number</em>" can be calculated as follows:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">even</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>

<span class="n">P</span><span class="p">(</span><span class="n">even</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[3]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>But that's inelegant&mdash;I had to explicitly enumerate all the even numbers from one to six. If I ever wanted to deal with a different kind of die, say a twelve or twenty-sided die, I would have to go back and change the definition of <code>even</code>.  I would prefer to define even numbers once and for all with a <em>predicate</em> (a function that returns True or False), if only <code>P</code> would accept that.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Revised-Version-of-P,-accepting-a-predicate-for-the-event">Revised Version of <code>P</code>, accepting a predicate for the event<a class="anchor-link" href="#Revised-Version-of-P,-accepting-a-predicate-for-the-event">&#182;</a></h1><p>It would be great if we could specify an event as either a set of outcomes, or a predicate over outcomes. Let's make it so:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">P</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">space</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;The probability of an event, given a sample space of equiprobable outcomes.</span>
<span class="sd">    event can be either a set of outcomes, or a predicate (true for outcomes in the event).&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">such_that</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">space</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">Fraction</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">event</span> <span class="o">&amp;</span> <span class="n">space</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">space</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">such_that</span><span class="p">(</span><span class="n">predicate</span><span class="p">,</span> <span class="n">collection</span><span class="p">):</span> 
    <span class="s">&quot;The subset of elements in the collection for which the predicate is true.&quot;</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">collection</span> <span class="k">if</span> <span class="n">predicate</span><span class="p">(</span><span class="n">e</span><span class="p">)}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">even</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="k">return</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span>

<span class="n">such_that</span><span class="p">(</span><span class="n">even</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[5]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{2, 4, 6}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">even</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[6]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">D12</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">}</span>

<span class="n">such_that</span><span class="p">(</span><span class="n">even</span><span class="p">,</span> <span class="n">D12</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[7]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{2, 4, 6, 8, 10, 12}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">even</span><span class="p">,</span> <span class="n">D12</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[8]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>(Note: <code>such_that</code> is just like the built-in function <code>filter</code>, except <code>such_that</code> returns a set, not a list.)</p>
<h1 id="The-Two-Child-Paradoxes">The Two Child Paradoxes<a class="anchor-link" href="#The-Two-Child-Paradoxes">&#182;</a></h1><p>In 1959, <a href="">Martin Gardner</a> <a href="https://en.wikipedia.org/wiki/Boy_or_Girl_paradox">posed</a> these two problems:</p>
<ul>
<li><p><strong>Problem 1.</strong> Mr. Jones has two children. The older child is a boy. What is the
probability that both children are boys?</p>
</li>
<li><p><strong>Problem 2.</strong> Mr. Smith has two children. At least one of them is a boy. What is
the probability that both children are boys?</p>
</li>
</ul>
<p>And in 2010, Gary Foshee added this one:</p>
<ul>
<li><strong>Problem 3.</strong> I have two children. At least one of them is a boy born on Tuesday. What is
the probability that both children are boys? </li>
</ul>
<p>Problems 2 and 3 are considered <em>paradoxes</em> because they have surprising answers that people
argue about.</p>
<p>(<em>Note:</em> Assume equiprobable outcomes; don't worry that actually 51% of births are male, etc.)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Problem-1:-Older-child-is-a-boy.-What-is-the-probability-both-are-boys?">Problem 1: Older child is a boy. What is the probability both are boys?<a class="anchor-link" href="#Problem-1:-Older-child-is-a-boy.-What-is-the-probability-both-are-boys?">&#182;</a></h2><p>We use <code>'BG'</code> to denote the outcome in which the older child is a boy and the younger a girl. The sample space, <code>S</code>, is:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">S</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;BG&#39;</span><span class="p">,</span> <span class="s">&#39;BB&#39;</span><span class="p">,</span> <span class="s">&#39;GB&#39;</span><span class="p">,</span> <span class="s">&#39;GG&#39;</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's define predicates for the conditions of having two boys, and of the older child being a boy:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">two_boys</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span> <span class="k">return</span> <span class="n">outcome</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>

<span class="k">def</span> <span class="nf">older_is_a_boy</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span> <span class="k">return</span> <span class="n">outcome</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can answer Problem 1:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">older_is_a_boy</span><span class="p">,</span> <span class="n">S</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[11]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Problem-2:-At-least-one-is-a-boy.-What-is-the-probability-both-are-boys?">Problem 2: At least one is a boy. What is the probability both are boys?<a class="anchor-link" href="#Problem-2:-At-least-one-is-a-boy.-What-is-the-probability-both-are-boys?">&#182;</a></h2><p>Implementing this problem and finding the answer is easy:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">at_least_one_boy</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span> <span class="k">return</span> <span class="s">&#39;B&#39;</span> <span class="ow">in</span> <span class="n">outcome</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">at_least_one_boy</span><span class="p">,</span> <span class="n">S</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[13]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Understanding the problem is tougher. Some people think the answer should be 1/2. Can we justify the answer 1/3?  We can see there are three equiprobable outcomes in which there is at least one boy:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">such_that</span><span class="p">(</span><span class="n">at_least_one_boy</span><span class="p">,</span> <span class="n">S</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[14]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{&apos;BB&apos;, &apos;BG&apos;, &apos;GB&apos;}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Of those three outcomes, only one has two boys, so the answer of 1/3 is indeed justified.</p>
<p>But some people <em>still</em> think the answer should be 1/2.
Their reasoning is <em>"If one child is a boy, then there are two equiprobable outcomes for the other child, so the probability that the other child is a boy, and thus that there are two boys, is 1/2."</em></p>
<p>When two methods of reasoning give two different answers, we have a <a href="https://en.wikipedia.org/wiki/Paradox">paradox</a>. Here are three responses to a paradox:</p>
<ol>
<li>The very fundamentals of mathematics must be incomplete, and this problem reveals it!</li>
<li>I'm right, and anyone who disagrees with me is an idiot!</li>
<li>I have the right answer for one interpretation of the problem, and you have the right answer
for a different interpretation of the problem.</li>
</ol>
<p>If you're <a href="https://en.wikipedia.org/wiki/Russell%27s_paradox">Bertrand Russell</a> or <a href="https://en.wikipedia.org/wiki/Cantor%27s_paradox">Georg Cantor</a>, you might very well uncover a fundamental flaw in mathematics; for the rest of us, I recommend Response 3. When I believe the answer is 1/3, and I hear someone say the answer is 1/2, my response is <em>"How interesting! They must have a different interpretation of the problem; I should try to discover what their interpretation is, and why their answer is correct."</em> First I explicitly describe my understanding of the experiment:</p>
<ul>
<li><strong>Experiment 2a.</strong> Mr. Smith is chosen at random from families with two children. He is asked if at least one of his children is a boy. He replies "yes."</li>
</ul>
<p>Next I envision another possible interpretation of the experiment:</p>
<ul>
<li><strong>Experiment 2b.</strong> Mr. Smith is chosen at random from families with two children. He is observed at a time when he is accompanied by one of his children, chosen at random. The child is observed to be a boy.  </li>
</ul>
<p>Experiment 2b needs a different sample space, which we will call <code>S2b</code>.  It consists of 8 outcomes, not just 4; for each of the 4 outcomes in <code>S</code>, we have a choice of observing either the older child or the younger child.  We will use the notation <code>'GB/g?'</code> to mean that the older child is a girl, the younger a boy, the older child was observed to be a girl, and the younger was not observed. The sample space is therefore:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">S2b</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;BB/b?&#39;</span><span class="p">,</span> <span class="s">&#39;BB/?b&#39;</span><span class="p">,</span> 
       <span class="s">&#39;BG/b?&#39;</span><span class="p">,</span> <span class="s">&#39;BG/?g&#39;</span><span class="p">,</span> 
       <span class="s">&#39;GB/g?&#39;</span><span class="p">,</span> <span class="s">&#39;GB/?b&#39;</span><span class="p">,</span> 
       <span class="s">&#39;GG/g?&#39;</span><span class="p">,</span> <span class="s">&#39;GG/?g&#39;</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can figure out the subset of this sample space in which we observe Mr. Smith with a boy:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">observed_boy</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span> <span class="k">return</span> <span class="s">&#39;b&#39;</span> <span class="ow">in</span> <span class="n">outcome</span>

<span class="n">such_that</span><span class="p">(</span><span class="n">observed_boy</span><span class="p">,</span> <span class="n">S2b</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[16]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{&apos;BB/?b&apos;, &apos;BB/b?&apos;, &apos;BG/b?&apos;, &apos;GB/?b&apos;}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And finally we can determine the probability that he has two boys, given that we observed him with a boy:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">observed_boy</span><span class="p">,</span> <span class="n">S2b</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[17]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The paradox is resolved. Two reasonable people can have different interpretations of the problem, and can each reason flawlessly to reach different conclusions, 1/3 or 1/2. Which interpretation is "better?"  We could debate that, or we could just agree to use unambiguous problem descriptions (that is, use the language of Experiment 2a or Experiment 2b, not the ambiguous language of Problem 2).</p>
<h2 id="The-Reasonable-Person-Principle">The Reasonable Person Principle<a class="anchor-link" href="#The-Reasonable-Person-Principle">&#182;</a></h2><p>It is an unfortunate fact of human nature that we often assume the other person is an idiot. As <a href="https://www.youtube.com/watch?v=XWPCE2tTLZQ">George Carlin puts it</a> <em>"Have you ever noticed when you're driving that anybody driving slower than you is an idiot, and anyone going faster than you is a maniac?"</em></p>
<p>The assumption that other people are more likely to be <strong>reasonable</strong> rather than <strong>idiots</strong> is known as the <strong><a href="http://www.cs.cmu.edu/~weigand/staff/">reasonable person principle</a></strong>. It is a guiding principle at Carnegie Mellon University's School of Computer Science, and is a principle I try to live by as well.</p>
<p>Now let's return to an even more paradoxical problem.</p>
<h2 id="Problem-3.-One-is-a-boy-born-on-Tuesday.-What's-the-probability--both-are-boys?">Problem 3. One is a boy born on Tuesday. What's the probability  both are boys?<a class="anchor-link" href="#Problem-3.-One-is-a-boy-born-on-Tuesday.-What's-the-probability--both-are-boys?">&#182;</a></h2><p>When Gary Foshee posed this problem, most people could not imagine how the boy's birth-day-of-week could be relevant, and felt the answer should be the same as Problem 2.  But in order to tell for sure, we should clearly state what the experiment is, define the sample space, and calculate.  First:</p>
<ul>
<li><strong>Experiment 3a.</strong> A parent is chosen at random from families with two children. She is asked if at least one of her children is a boy born on Tuesday. She replies "yes."</li>
</ul>
<p>Next we'll define a sample space. We'll use the notation "<code>G1B3</code>" to mean the older child is a girl born on the first day of the week (Sunday) and the younger a boy born on the third day of the week (Tuesday). We'll call the resulting sample space <code>S3</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sexesdays</span> <span class="o">=</span> <span class="p">{</span><span class="n">sex</span> <span class="o">+</span> <span class="n">day</span> 
             <span class="k">for</span> <span class="n">sex</span> <span class="ow">in</span> <span class="s">&#39;GB&#39;</span> 
             <span class="k">for</span> <span class="n">day</span> <span class="ow">in</span> <span class="s">&#39;1234567&#39;</span><span class="p">}</span>

<span class="n">S3</span>        <span class="o">=</span> <span class="p">{</span><span class="n">older</span> <span class="o">+</span> <span class="n">younger</span> 
             <span class="k">for</span> <span class="n">older</span> <span class="ow">in</span> <span class="n">sexesdays</span> 
             <span class="k">for</span> <span class="n">younger</span> <span class="ow">in</span> <span class="n">sexesdays</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">S3</span><span class="p">)</span> <span class="o">==</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="mi">7</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">196</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">S3</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[&apos;B1B1&apos;, &apos;B1B2&apos;, &apos;B1B3&apos;, &apos;B1B4&apos;, &apos;B1B5&apos;, &apos;B1B6&apos;, &apos;B1B7&apos;, &apos;B1G1&apos;, &apos;B1G2&apos;, &apos;B1G3&apos;, &apos;B1G4&apos;, &apos;B1G5&apos;, &apos;B1G6&apos;, &apos;B1G7&apos;, &apos;B2B1&apos;, &apos;B2B2&apos;, &apos;B2B3&apos;, &apos;B2B4&apos;, &apos;B2B5&apos;, &apos;B2B6&apos;, &apos;B2B7&apos;, &apos;B2G1&apos;, &apos;B2G2&apos;, &apos;B2G3&apos;, &apos;B2G4&apos;, &apos;B2G5&apos;, &apos;B2G6&apos;, &apos;B2G7&apos;, &apos;B3B1&apos;, &apos;B3B2&apos;, &apos;B3B3&apos;, &apos;B3B4&apos;, &apos;B3B5&apos;, &apos;B3B6&apos;, &apos;B3B7&apos;, &apos;B3G1&apos;, &apos;B3G2&apos;, &apos;B3G3&apos;, &apos;B3G4&apos;, &apos;B3G5&apos;, &apos;B3G6&apos;, &apos;B3G7&apos;, &apos;B4B1&apos;, &apos;B4B2&apos;, &apos;B4B3&apos;, &apos;B4B4&apos;, &apos;B4B5&apos;, &apos;B4B6&apos;, &apos;B4B7&apos;, &apos;B4G1&apos;, &apos;B4G2&apos;, &apos;B4G3&apos;, &apos;B4G4&apos;, &apos;B4G5&apos;, &apos;B4G6&apos;, &apos;B4G7&apos;, &apos;B5B1&apos;, &apos;B5B2&apos;, &apos;B5B3&apos;, &apos;B5B4&apos;, &apos;B5B5&apos;, &apos;B5B6&apos;, &apos;B5B7&apos;, &apos;B5G1&apos;, &apos;B5G2&apos;, &apos;B5G3&apos;, &apos;B5G4&apos;, &apos;B5G5&apos;, &apos;B5G6&apos;, &apos;B5G7&apos;, &apos;B6B1&apos;, &apos;B6B2&apos;, &apos;B6B3&apos;, &apos;B6B4&apos;, &apos;B6B5&apos;, &apos;B6B6&apos;, &apos;B6B7&apos;, &apos;B6G1&apos;, &apos;B6G2&apos;, &apos;B6G3&apos;, &apos;B6G4&apos;, &apos;B6G5&apos;, &apos;B6G6&apos;, &apos;B6G7&apos;, &apos;B7B1&apos;, &apos;B7B2&apos;, &apos;B7B3&apos;, &apos;B7B4&apos;, &apos;B7B5&apos;, &apos;B7B6&apos;, &apos;B7B7&apos;, &apos;B7G1&apos;, &apos;B7G2&apos;, &apos;B7G3&apos;, &apos;B7G4&apos;, &apos;B7G5&apos;, &apos;B7G6&apos;, &apos;B7G7&apos;, &apos;G1B1&apos;, &apos;G1B2&apos;, &apos;G1B3&apos;, &apos;G1B4&apos;, &apos;G1B5&apos;, &apos;G1B6&apos;, &apos;G1B7&apos;, &apos;G1G1&apos;, &apos;G1G2&apos;, &apos;G1G3&apos;, &apos;G1G4&apos;, &apos;G1G5&apos;, &apos;G1G6&apos;, &apos;G1G7&apos;, &apos;G2B1&apos;, &apos;G2B2&apos;, &apos;G2B3&apos;, &apos;G2B4&apos;, &apos;G2B5&apos;, &apos;G2B6&apos;, &apos;G2B7&apos;, &apos;G2G1&apos;, &apos;G2G2&apos;, &apos;G2G3&apos;, &apos;G2G4&apos;, &apos;G2G5&apos;, &apos;G2G6&apos;, &apos;G2G7&apos;, &apos;G3B1&apos;, &apos;G3B2&apos;, &apos;G3B3&apos;, &apos;G3B4&apos;, &apos;G3B5&apos;, &apos;G3B6&apos;, &apos;G3B7&apos;, &apos;G3G1&apos;, &apos;G3G2&apos;, &apos;G3G3&apos;, &apos;G3G4&apos;, &apos;G3G5&apos;, &apos;G3G6&apos;, &apos;G3G7&apos;, &apos;G4B1&apos;, &apos;G4B2&apos;, &apos;G4B3&apos;, &apos;G4B4&apos;, &apos;G4B5&apos;, &apos;G4B6&apos;, &apos;G4B7&apos;, &apos;G4G1&apos;, &apos;G4G2&apos;, &apos;G4G3&apos;, &apos;G4G4&apos;, &apos;G4G5&apos;, &apos;G4G6&apos;, &apos;G4G7&apos;, &apos;G5B1&apos;, &apos;G5B2&apos;, &apos;G5B3&apos;, &apos;G5B4&apos;, &apos;G5B5&apos;, &apos;G5B6&apos;, &apos;G5B7&apos;, &apos;G5G1&apos;, &apos;G5G2&apos;, &apos;G5G3&apos;, &apos;G5G4&apos;, &apos;G5G5&apos;, &apos;G5G6&apos;, &apos;G5G7&apos;, &apos;G6B1&apos;, &apos;G6B2&apos;, &apos;G6B3&apos;, &apos;G6B4&apos;, &apos;G6B5&apos;, &apos;G6B6&apos;, &apos;G6B7&apos;, &apos;G6G1&apos;, &apos;G6G2&apos;, &apos;G6G3&apos;, &apos;G6G4&apos;, &apos;G6G5&apos;, &apos;G6G6&apos;, &apos;G6G7&apos;, &apos;G7B1&apos;, &apos;G7B2&apos;, &apos;G7B3&apos;, &apos;G7B4&apos;, &apos;G7B5&apos;, &apos;G7B6&apos;, &apos;G7B7&apos;, &apos;G7G1&apos;, &apos;G7G2&apos;, &apos;G7G3&apos;, &apos;G7G4&apos;, &apos;G7G5&apos;, &apos;G7G6&apos;, &apos;G7G7&apos;]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We determine below that the probability of having at least one boy is 3/4, both in <code>S3</code> and in <code>S</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">at_least_one_boy</span><span class="p">,</span> <span class="n">S3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[20]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(3, 4)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">at_least_one_boy</span><span class="p">,</span> <span class="n">S</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[21]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(3, 4)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The probability of two boys is 1/4 in either sample space:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">S3</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[22]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 4)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">S</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[23]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 4)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And the probability of two boys given at least one boy is 1/3 in either sample space:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">at_least_one_boy</span><span class="p">,</span> <span class="n">S3</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[24]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">at_least_one_boy</span><span class="p">,</span> <span class="n">S</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[25]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We will define a predicate for the event of at least one boy born on Tuesday:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">at_least_one_boy_tues</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span> <span class="k">return</span> <span class="s">&#39;B3&#39;</span> <span class="ow">in</span> <span class="n">outcome</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We are now ready to answer Problem 3:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">at_least_one_boy_tues</span><span class="p">,</span> <span class="n">S3</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[27]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(13, 27)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>13/27 is quite different from 1/3 (but rather close to 1/2). So "at least one boy born on Tuesday" is quite different from "at least one boy." Are you surprised? Do you accept the answer, or do you think we did something wrong? Are there other interpretations of the experiment that lead to other answers?</p>
<p>Here is one alternative interpretation:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><strong>Experiment 3b.</strong> A parent is chosen at random from families with two children. She is observed at a time when she is accompanied by one of her children, chosen at random. The child is observed to be a boy who reports that his birth day is Tuesday.</li>
</ul>
<p>We can represent outcomes in this sample space with the notation <code>G1B3/??b3</code>, meaning the older child is a girl born on Sunday, the younger a boy born on Tuesday, the older was not observed, and the younger was.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">observed_boy_tues</span><span class="p">(</span><span class="n">outcome</span><span class="p">):</span> <span class="k">return</span> <span class="s">&#39;b3&#39;</span> <span class="ow">in</span> <span class="n">outcome</span>

<span class="n">S3b</span> <span class="o">=</span> <span class="p">{</span><span class="n">older</span> <span class="o">+</span> <span class="n">younger</span> <span class="o">+</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">observation</span>
       <span class="k">for</span> <span class="n">older</span> <span class="ow">in</span> <span class="n">sexesdays</span> 
       <span class="k">for</span> <span class="n">younger</span> <span class="ow">in</span> <span class="n">sexesdays</span>
       <span class="k">for</span> <span class="n">observation</span> <span class="ow">in</span> <span class="p">[</span><span class="n">older</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">+</span><span class="s">&#39;??&#39;</span><span class="p">,</span> <span class="s">&#39;??&#39;</span><span class="o">+</span><span class="n">younger</span><span class="o">.</span><span class="n">lower</span><span class="p">()]}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can answer this version of  problem 3:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">observed_boy_tues</span><span class="p">,</span> <span class="n">S3b</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[29]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So with the wording of Experiment 3b, the answer to problem 3 is the same as 2b.</p>
<p>Still confused? Let's build a visualization tool to make things more concrete.</p>
<h1 id="Visualization">Visualization<a class="anchor-link" href="#Visualization">&#182;</a></h1><p>We'll display the results as a two dimensional table of outcomes, with each cell in the table is a color-coded outcome. A cell will be white if it does not satisfy the predicate we are working with; green if the outcome contains two boys; and yellow if it does satisfy the predicate, but does not have two boys. Every cell in a row has the same older child, and every cell in a column has the same younger child. Here's the code to display a table:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">HTML</span>

<span class="k">def</span> <span class="nf">table</span><span class="p">(</span><span class="n">space</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="n">older_is_a_boy</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Display sample space in a table, color-coded: green if event and condition is true; </span>
<span class="sd">    yellow if only condition is true; white otherwise.&quot;&quot;&quot;</span>
    <span class="c"># n is the number of characters that make up the older child.</span>
    <span class="n">olders</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">outcome</span><span class="p">[:</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">outcome</span> <span class="ow">in</span> <span class="n">space</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">HTML</span><span class="p">(</span><span class="s">&#39;&lt;table&gt;&#39;</span> <span class="o">+</span>
                <span class="n">cat</span><span class="p">(</span><span class="n">row</span><span class="p">(</span><span class="n">older</span><span class="p">,</span> <span class="n">space</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span> <span class="k">for</span> <span class="n">older</span> <span class="ow">in</span> <span class="n">olders</span><span class="p">)</span> <span class="o">+</span>
                <span class="s">&#39;&lt;/table&gt;&#39;</span> <span class="o">+</span> 
                <span class="nb">str</span><span class="p">(</span><span class="n">P</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="n">space</span><span class="p">))))</span>

<span class="k">def</span> <span class="nf">row</span><span class="p">(</span><span class="n">older</span><span class="p">,</span> <span class="n">space</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">condition</span><span class="p">):</span>
    <span class="s">&quot;Display a row where an older child is paired with each of the possible younger children.&quot;</span>
    <span class="n">thisrow</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">outcome</span> <span class="k">for</span> <span class="n">outcome</span> <span class="ow">in</span> <span class="n">space</span> <span class="k">if</span> <span class="n">outcome</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">older</span><span class="p">))</span>
    <span class="k">return</span> <span class="s">&#39;&lt;tr&gt;&#39;</span> <span class="o">+</span> <span class="n">cat</span><span class="p">(</span><span class="n">cell</span><span class="p">(</span><span class="n">outcome</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">condition</span><span class="p">)</span> <span class="k">for</span> <span class="n">outcome</span> <span class="ow">in</span> <span class="n">thisrow</span><span class="p">)</span> <span class="o">+</span> <span class="s">&#39;&lt;/tr&gt;&#39;</span>

<span class="k">def</span> <span class="nf">cell</span><span class="p">(</span><span class="n">outcome</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">condition</span><span class="p">):</span> 
    <span class="s">&quot;Display outcome in appropriate color.&quot;</span>
    <span class="n">color</span> <span class="o">=</span> <span class="p">(</span><span class="s">&#39;lightgreen&#39;</span> <span class="k">if</span> <span class="n">event</span><span class="p">(</span><span class="n">outcome</span><span class="p">)</span> <span class="ow">and</span> <span class="n">condition</span><span class="p">(</span><span class="n">outcome</span><span class="p">)</span> <span class="k">else</span>
             <span class="s">&#39;yellow&#39;</span> <span class="k">if</span> <span class="n">condition</span><span class="p">(</span><span class="n">outcome</span><span class="p">)</span> <span class="k">else</span>
             <span class="s">&#39;ghostwhite&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="s">&#39;&lt;td style=&quot;background-color: {}&quot;&gt;{}&lt;/td&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="n">outcome</span><span class="p">)</span>    

<span class="n">cat</span> <span class="o">=</span> <span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can use this visualization tool to see that in Problem 1, there is one outcome with two boys (green) out of a total of two outcomes where the older is a boy (green and yellow) so the probability of two boys given that the older is a boy is 1/2.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 1</span>
<span class="n">table</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">two_boys</span><span class="p">,</span> <span class="n">older_is_a_boy</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[31]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><td style="background-color: lightgreen">BB</td><td style="background-color: yellow">BG</td></tr><tr><td style="background-color: ghostwhite">GB</td><td style="background-color: ghostwhite">GG</td></tr></table>1/2
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For Problem 2, we see the probability of two boys (green) given at least one boy (green and yellow)  is 1/3.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 2</span>
<span class="n">table</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">two_boys</span><span class="p">,</span> <span class="n">at_least_one_boy</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[32]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><td style="background-color: lightgreen">BB</td><td style="background-color: yellow">BG</td></tr><tr><td style="background-color: yellow">GB</td><td style="background-color: ghostwhite">GG</td></tr></table>1/3
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The answer is still 1/3 when we consider the day of the week of each birth. (We've just made each cell "bigger" by enumerating all the days-of-week.)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 2</span>
<span class="n">table</span><span class="p">(</span><span class="n">S3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">two_boys</span><span class="p">,</span> <span class="n">at_least_one_boy</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[33]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><td style="background-color: lightgreen">B1B1</td><td style="background-color: lightgreen">B1B2</td><td style="background-color: lightgreen">B1B3</td><td style="background-color: lightgreen">B1B4</td><td style="background-color: lightgreen">B1B5</td><td style="background-color: lightgreen">B1B6</td><td style="background-color: lightgreen">B1B7</td><td style="background-color: yellow">B1G1</td><td style="background-color: yellow">B1G2</td><td style="background-color: yellow">B1G3</td><td style="background-color: yellow">B1G4</td><td style="background-color: yellow">B1G5</td><td style="background-color: yellow">B1G6</td><td style="background-color: yellow">B1G7</td></tr><tr><td style="background-color: lightgreen">B2B1</td><td style="background-color: lightgreen">B2B2</td><td style="background-color: lightgreen">B2B3</td><td style="background-color: lightgreen">B2B4</td><td style="background-color: lightgreen">B2B5</td><td style="background-color: lightgreen">B2B6</td><td style="background-color: lightgreen">B2B7</td><td style="background-color: yellow">B2G1</td><td style="background-color: yellow">B2G2</td><td style="background-color: yellow">B2G3</td><td style="background-color: yellow">B2G4</td><td style="background-color: yellow">B2G5</td><td style="background-color: yellow">B2G6</td><td style="background-color: yellow">B2G7</td></tr><tr><td style="background-color: lightgreen">B3B1</td><td style="background-color: lightgreen">B3B2</td><td style="background-color: lightgreen">B3B3</td><td style="background-color: lightgreen">B3B4</td><td style="background-color: lightgreen">B3B5</td><td style="background-color: lightgreen">B3B6</td><td style="background-color: lightgreen">B3B7</td><td style="background-color: yellow">B3G1</td><td style="background-color: yellow">B3G2</td><td style="background-color: yellow">B3G3</td><td style="background-color: yellow">B3G4</td><td style="background-color: yellow">B3G5</td><td style="background-color: yellow">B3G6</td><td style="background-color: yellow">B3G7</td></tr><tr><td style="background-color: lightgreen">B4B1</td><td style="background-color: lightgreen">B4B2</td><td style="background-color: lightgreen">B4B3</td><td style="background-color: lightgreen">B4B4</td><td style="background-color: lightgreen">B4B5</td><td style="background-color: lightgreen">B4B6</td><td style="background-color: lightgreen">B4B7</td><td style="background-color: yellow">B4G1</td><td style="background-color: yellow">B4G2</td><td style="background-color: yellow">B4G3</td><td style="background-color: yellow">B4G4</td><td style="background-color: yellow">B4G5</td><td style="background-color: yellow">B4G6</td><td style="background-color: yellow">B4G7</td></tr><tr><td style="background-color: lightgreen">B5B1</td><td style="background-color: lightgreen">B5B2</td><td style="background-color: lightgreen">B5B3</td><td style="background-color: lightgreen">B5B4</td><td style="background-color: lightgreen">B5B5</td><td style="background-color: lightgreen">B5B6</td><td style="background-color: lightgreen">B5B7</td><td style="background-color: yellow">B5G1</td><td style="background-color: yellow">B5G2</td><td style="background-color: yellow">B5G3</td><td style="background-color: yellow">B5G4</td><td style="background-color: yellow">B5G5</td><td style="background-color: yellow">B5G6</td><td style="background-color: yellow">B5G7</td></tr><tr><td style="background-color: lightgreen">B6B1</td><td style="background-color: lightgreen">B6B2</td><td style="background-color: lightgreen">B6B3</td><td style="background-color: lightgreen">B6B4</td><td style="background-color: lightgreen">B6B5</td><td style="background-color: lightgreen">B6B6</td><td style="background-color: lightgreen">B6B7</td><td style="background-color: yellow">B6G1</td><td style="background-color: yellow">B6G2</td><td style="background-color: yellow">B6G3</td><td style="background-color: yellow">B6G4</td><td style="background-color: yellow">B6G5</td><td style="background-color: yellow">B6G6</td><td style="background-color: yellow">B6G7</td></tr><tr><td style="background-color: lightgreen">B7B1</td><td style="background-color: lightgreen">B7B2</td><td style="background-color: lightgreen">B7B3</td><td style="background-color: lightgreen">B7B4</td><td style="background-color: lightgreen">B7B5</td><td style="background-color: lightgreen">B7B6</td><td style="background-color: lightgreen">B7B7</td><td style="background-color: yellow">B7G1</td><td style="background-color: yellow">B7G2</td><td style="background-color: yellow">B7G3</td><td style="background-color: yellow">B7G4</td><td style="background-color: yellow">B7G5</td><td style="background-color: yellow">B7G6</td><td style="background-color: yellow">B7G7</td></tr><tr><td style="background-color: yellow">G1B1</td><td style="background-color: yellow">G1B2</td><td style="background-color: yellow">G1B3</td><td style="background-color: yellow">G1B4</td><td style="background-color: yellow">G1B5</td><td style="background-color: yellow">G1B6</td><td style="background-color: yellow">G1B7</td><td style="background-color: ghostwhite">G1G1</td><td style="background-color: ghostwhite">G1G2</td><td style="background-color: ghostwhite">G1G3</td><td style="background-color: ghostwhite">G1G4</td><td style="background-color: ghostwhite">G1G5</td><td style="background-color: ghostwhite">G1G6</td><td style="background-color: ghostwhite">G1G7</td></tr><tr><td style="background-color: yellow">G2B1</td><td style="background-color: yellow">G2B2</td><td style="background-color: yellow">G2B3</td><td style="background-color: yellow">G2B4</td><td style="background-color: yellow">G2B5</td><td style="background-color: yellow">G2B6</td><td style="background-color: yellow">G2B7</td><td style="background-color: ghostwhite">G2G1</td><td style="background-color: ghostwhite">G2G2</td><td style="background-color: ghostwhite">G2G3</td><td style="background-color: ghostwhite">G2G4</td><td style="background-color: ghostwhite">G2G5</td><td style="background-color: ghostwhite">G2G6</td><td style="background-color: ghostwhite">G2G7</td></tr><tr><td style="background-color: yellow">G3B1</td><td style="background-color: yellow">G3B2</td><td style="background-color: yellow">G3B3</td><td style="background-color: yellow">G3B4</td><td style="background-color: yellow">G3B5</td><td style="background-color: yellow">G3B6</td><td style="background-color: yellow">G3B7</td><td style="background-color: ghostwhite">G3G1</td><td style="background-color: ghostwhite">G3G2</td><td style="background-color: ghostwhite">G3G3</td><td style="background-color: ghostwhite">G3G4</td><td style="background-color: ghostwhite">G3G5</td><td style="background-color: ghostwhite">G3G6</td><td style="background-color: ghostwhite">G3G7</td></tr><tr><td style="background-color: yellow">G4B1</td><td style="background-color: yellow">G4B2</td><td style="background-color: yellow">G4B3</td><td style="background-color: yellow">G4B4</td><td style="background-color: yellow">G4B5</td><td style="background-color: yellow">G4B6</td><td style="background-color: yellow">G4B7</td><td style="background-color: ghostwhite">G4G1</td><td style="background-color: ghostwhite">G4G2</td><td style="background-color: ghostwhite">G4G3</td><td style="background-color: ghostwhite">G4G4</td><td style="background-color: ghostwhite">G4G5</td><td style="background-color: ghostwhite">G4G6</td><td style="background-color: ghostwhite">G4G7</td></tr><tr><td style="background-color: yellow">G5B1</td><td style="background-color: yellow">G5B2</td><td style="background-color: yellow">G5B3</td><td style="background-color: yellow">G5B4</td><td style="background-color: yellow">G5B5</td><td style="background-color: yellow">G5B6</td><td style="background-color: yellow">G5B7</td><td style="background-color: ghostwhite">G5G1</td><td style="background-color: ghostwhite">G5G2</td><td style="background-color: ghostwhite">G5G3</td><td style="background-color: ghostwhite">G5G4</td><td style="background-color: ghostwhite">G5G5</td><td style="background-color: ghostwhite">G5G6</td><td style="background-color: ghostwhite">G5G7</td></tr><tr><td style="background-color: yellow">G6B1</td><td style="background-color: yellow">G6B2</td><td style="background-color: yellow">G6B3</td><td style="background-color: yellow">G6B4</td><td style="background-color: yellow">G6B5</td><td style="background-color: yellow">G6B6</td><td style="background-color: yellow">G6B7</td><td style="background-color: ghostwhite">G6G1</td><td style="background-color: ghostwhite">G6G2</td><td style="background-color: ghostwhite">G6G3</td><td style="background-color: ghostwhite">G6G4</td><td style="background-color: ghostwhite">G6G5</td><td style="background-color: ghostwhite">G6G6</td><td style="background-color: ghostwhite">G6G7</td></tr><tr><td style="background-color: yellow">G7B1</td><td style="background-color: yellow">G7B2</td><td style="background-color: yellow">G7B3</td><td style="background-color: yellow">G7B4</td><td style="background-color: yellow">G7B5</td><td style="background-color: yellow">G7B6</td><td style="background-color: yellow">G7B7</td><td style="background-color: ghostwhite">G7G1</td><td style="background-color: ghostwhite">G7G2</td><td style="background-color: ghostwhite">G7G3</td><td style="background-color: ghostwhite">G7G4</td><td style="background-color: ghostwhite">G7G5</td><td style="background-color: ghostwhite">G7G6</td><td style="background-color: ghostwhite">G7G7</td></tr></table>1/3
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now for the paradox of Problem 3:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 3</span>
<span class="n">table</span><span class="p">(</span><span class="n">S3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">two_boys</span><span class="p">,</span> <span class="n">at_least_one_boy_tues</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[34]:</div>

<div class="output_html rendered_html output_subarea output_execute_result">
<table><tr><td style="background-color: ghostwhite">B1B1</td><td style="background-color: ghostwhite">B1B2</td><td style="background-color: lightgreen">B1B3</td><td style="background-color: ghostwhite">B1B4</td><td style="background-color: ghostwhite">B1B5</td><td style="background-color: ghostwhite">B1B6</td><td style="background-color: ghostwhite">B1B7</td><td style="background-color: ghostwhite">B1G1</td><td style="background-color: ghostwhite">B1G2</td><td style="background-color: ghostwhite">B1G3</td><td style="background-color: ghostwhite">B1G4</td><td style="background-color: ghostwhite">B1G5</td><td style="background-color: ghostwhite">B1G6</td><td style="background-color: ghostwhite">B1G7</td></tr><tr><td style="background-color: ghostwhite">B2B1</td><td style="background-color: ghostwhite">B2B2</td><td style="background-color: lightgreen">B2B3</td><td style="background-color: ghostwhite">B2B4</td><td style="background-color: ghostwhite">B2B5</td><td style="background-color: ghostwhite">B2B6</td><td style="background-color: ghostwhite">B2B7</td><td style="background-color: ghostwhite">B2G1</td><td style="background-color: ghostwhite">B2G2</td><td style="background-color: ghostwhite">B2G3</td><td style="background-color: ghostwhite">B2G4</td><td style="background-color: ghostwhite">B2G5</td><td style="background-color: ghostwhite">B2G6</td><td style="background-color: ghostwhite">B2G7</td></tr><tr><td style="background-color: lightgreen">B3B1</td><td style="background-color: lightgreen">B3B2</td><td style="background-color: lightgreen">B3B3</td><td style="background-color: lightgreen">B3B4</td><td style="background-color: lightgreen">B3B5</td><td style="background-color: lightgreen">B3B6</td><td style="background-color: lightgreen">B3B7</td><td style="background-color: yellow">B3G1</td><td style="background-color: yellow">B3G2</td><td style="background-color: yellow">B3G3</td><td style="background-color: yellow">B3G4</td><td style="background-color: yellow">B3G5</td><td style="background-color: yellow">B3G6</td><td style="background-color: yellow">B3G7</td></tr><tr><td style="background-color: ghostwhite">B4B1</td><td style="background-color: ghostwhite">B4B2</td><td style="background-color: lightgreen">B4B3</td><td style="background-color: ghostwhite">B4B4</td><td style="background-color: ghostwhite">B4B5</td><td style="background-color: ghostwhite">B4B6</td><td style="background-color: ghostwhite">B4B7</td><td style="background-color: ghostwhite">B4G1</td><td style="background-color: ghostwhite">B4G2</td><td style="background-color: ghostwhite">B4G3</td><td style="background-color: ghostwhite">B4G4</td><td style="background-color: ghostwhite">B4G5</td><td style="background-color: ghostwhite">B4G6</td><td style="background-color: ghostwhite">B4G7</td></tr><tr><td style="background-color: ghostwhite">B5B1</td><td style="background-color: ghostwhite">B5B2</td><td style="background-color: lightgreen">B5B3</td><td style="background-color: ghostwhite">B5B4</td><td style="background-color: ghostwhite">B5B5</td><td style="background-color: ghostwhite">B5B6</td><td style="background-color: ghostwhite">B5B7</td><td style="background-color: ghostwhite">B5G1</td><td style="background-color: ghostwhite">B5G2</td><td style="background-color: ghostwhite">B5G3</td><td style="background-color: ghostwhite">B5G4</td><td style="background-color: ghostwhite">B5G5</td><td style="background-color: ghostwhite">B5G6</td><td style="background-color: ghostwhite">B5G7</td></tr><tr><td style="background-color: ghostwhite">B6B1</td><td style="background-color: ghostwhite">B6B2</td><td style="background-color: lightgreen">B6B3</td><td style="background-color: ghostwhite">B6B4</td><td style="background-color: ghostwhite">B6B5</td><td style="background-color: ghostwhite">B6B6</td><td style="background-color: ghostwhite">B6B7</td><td style="background-color: ghostwhite">B6G1</td><td style="background-color: ghostwhite">B6G2</td><td style="background-color: ghostwhite">B6G3</td><td style="background-color: ghostwhite">B6G4</td><td style="background-color: ghostwhite">B6G5</td><td style="background-color: ghostwhite">B6G6</td><td style="background-color: ghostwhite">B6G7</td></tr><tr><td style="background-color: ghostwhite">B7B1</td><td style="background-color: ghostwhite">B7B2</td><td style="background-color: lightgreen">B7B3</td><td style="background-color: ghostwhite">B7B4</td><td style="background-color: ghostwhite">B7B5</td><td style="background-color: ghostwhite">B7B6</td><td style="background-color: ghostwhite">B7B7</td><td style="background-color: ghostwhite">B7G1</td><td style="background-color: ghostwhite">B7G2</td><td style="background-color: ghostwhite">B7G3</td><td style="background-color: ghostwhite">B7G4</td><td style="background-color: ghostwhite">B7G5</td><td style="background-color: ghostwhite">B7G6</td><td style="background-color: ghostwhite">B7G7</td></tr><tr><td style="background-color: ghostwhite">G1B1</td><td style="background-color: ghostwhite">G1B2</td><td style="background-color: yellow">G1B3</td><td style="background-color: ghostwhite">G1B4</td><td style="background-color: ghostwhite">G1B5</td><td style="background-color: ghostwhite">G1B6</td><td style="background-color: ghostwhite">G1B7</td><td style="background-color: ghostwhite">G1G1</td><td style="background-color: ghostwhite">G1G2</td><td style="background-color: ghostwhite">G1G3</td><td style="background-color: ghostwhite">G1G4</td><td style="background-color: ghostwhite">G1G5</td><td style="background-color: ghostwhite">G1G6</td><td style="background-color: ghostwhite">G1G7</td></tr><tr><td style="background-color: ghostwhite">G2B1</td><td style="background-color: ghostwhite">G2B2</td><td style="background-color: yellow">G2B3</td><td style="background-color: ghostwhite">G2B4</td><td style="background-color: ghostwhite">G2B5</td><td style="background-color: ghostwhite">G2B6</td><td style="background-color: ghostwhite">G2B7</td><td style="background-color: ghostwhite">G2G1</td><td style="background-color: ghostwhite">G2G2</td><td style="background-color: ghostwhite">G2G3</td><td style="background-color: ghostwhite">G2G4</td><td style="background-color: ghostwhite">G2G5</td><td style="background-color: ghostwhite">G2G6</td><td style="background-color: ghostwhite">G2G7</td></tr><tr><td style="background-color: ghostwhite">G3B1</td><td style="background-color: ghostwhite">G3B2</td><td style="background-color: yellow">G3B3</td><td style="background-color: ghostwhite">G3B4</td><td style="background-color: ghostwhite">G3B5</td><td style="background-color: ghostwhite">G3B6</td><td style="background-color: ghostwhite">G3B7</td><td style="background-color: ghostwhite">G3G1</td><td style="background-color: ghostwhite">G3G2</td><td style="background-color: ghostwhite">G3G3</td><td style="background-color: ghostwhite">G3G4</td><td style="background-color: ghostwhite">G3G5</td><td style="background-color: ghostwhite">G3G6</td><td style="background-color: ghostwhite">G3G7</td></tr><tr><td style="background-color: ghostwhite">G4B1</td><td style="background-color: ghostwhite">G4B2</td><td style="background-color: yellow">G4B3</td><td style="background-color: ghostwhite">G4B4</td><td style="background-color: ghostwhite">G4B5</td><td style="background-color: ghostwhite">G4B6</td><td style="background-color: ghostwhite">G4B7</td><td style="background-color: ghostwhite">G4G1</td><td style="background-color: ghostwhite">G4G2</td><td style="background-color: ghostwhite">G4G3</td><td style="background-color: ghostwhite">G4G4</td><td style="background-color: ghostwhite">G4G5</td><td style="background-color: ghostwhite">G4G6</td><td style="background-color: ghostwhite">G4G7</td></tr><tr><td style="background-color: ghostwhite">G5B1</td><td style="background-color: ghostwhite">G5B2</td><td style="background-color: yellow">G5B3</td><td style="background-color: ghostwhite">G5B4</td><td style="background-color: ghostwhite">G5B5</td><td style="background-color: ghostwhite">G5B6</td><td style="background-color: ghostwhite">G5B7</td><td style="background-color: ghostwhite">G5G1</td><td style="background-color: ghostwhite">G5G2</td><td style="background-color: ghostwhite">G5G3</td><td style="background-color: ghostwhite">G5G4</td><td style="background-color: ghostwhite">G5G5</td><td style="background-color: ghostwhite">G5G6</td><td style="background-color: ghostwhite">G5G7</td></tr><tr><td style="background-color: ghostwhite">G6B1</td><td style="background-color: ghostwhite">G6B2</td><td style="background-color: yellow">G6B3</td><td style="background-color: ghostwhite">G6B4</td><td style="background-color: ghostwhite">G6B5</td><td style="background-color: ghostwhite">G6B6</td><td style="background-color: ghostwhite">G6B7</td><td style="background-color: ghostwhite">G6G1</td><td style="background-color: ghostwhite">G6G2</td><td style="background-color: ghostwhite">G6G3</td><td style="background-color: ghostwhite">G6G4</td><td style="background-color: ghostwhite">G6G5</td><td style="background-color: ghostwhite">G6G6</td><td style="background-color: ghostwhite">G6G7</td></tr><tr><td style="background-color: ghostwhite">G7B1</td><td style="background-color: ghostwhite">G7B2</td><td style="background-color: yellow">G7B3</td><td style="background-color: ghostwhite">G7B4</td><td style="background-color: ghostwhite">G7B5</td><td style="background-color: ghostwhite">G7B6</td><td style="background-color: ghostwhite">G7B7</td><td style="background-color: ghostwhite">G7G1</td><td style="background-color: ghostwhite">G7G2</td><td style="background-color: ghostwhite">G7G3</td><td style="background-color: ghostwhite">G7G4</td><td style="background-color: ghostwhite">G7G5</td><td style="background-color: ghostwhite">G7G6</td><td style="background-color: ghostwhite">G7G7</td></tr></table>13/27
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We see there are 27 relevant outcomes, of which 13 are green. So 13/27 really does seem to be the right answer. This picture also gives us a way to think about why the answer is not 1/3. Think of the yellow-plus-green area as a horizontal stripe and a vertical stripe, with an overlap. Each stripe is half yellow and half green, so if there were no overlap at all, the probability of green would be 1/2.  When each stripe takes up half the sample space and the overlap is maximal, the probability is 1/3. And in the Problem 3 table, where the overlap is small, the probability is close to 1/2 (but slightly smaller).</p>
<p>One way to look at it is that if I tell you very specific information (such as a boy born on Tuesday), it is unlikely that this applies to both children, so we have smaller overlap and a probability closer to 1/2, but if I give you broad information (a boy), this is more likely to apply to either child, resulting in a larger overlap, and a probability closer to 1/3.</p>
<p>You can read some more discussions of the problem by (in alphabetical order) 
<a href="https://www.newscientist.com/article/dn18950-magic-numbers-a-meeting-of-mathemagical-tricksters?full=true">Alex Bellos</a>,
<a href="http://www.cut-the-knot.org/Probability/BearBornOnTuesday.shtml">Alexander Bogomolny</a>,
<a href="http://andrewgelman.com/2010/05/27/hype_about_cond/">Andrew Gelman</a>,
<a href="https://web.viu.ca/bigelow2/Problem%201127%20Solution.pdf">David Bigelow</a>,
<a href="https://www.sciencenews.org/article/when-intuition-and-math-probably-look-wrong">Julie Rehmeyer</a>,
<a href="https://www.maa.org/external_archive/devlin/devlin_05_10.html">Keith Devlin</a>,
<a href="http://mathsci.ucd.ie/~plynch/Publications/BIMS-TwoChildParadox.pdf">Peter Lynch</a>,
<a href="http://arxiv.org/pdf/1102.0173v1.pdf">Tanya Khovanova</a>,
and
<a href="http://www.aamt.edu.au/Journals/Sample-articles/amt70_2_taylor.pdf">Wendy Taylor &amp; Kaye Stacey</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="The-Sleeping-Beauty-Paradox">The Sleeping Beauty Paradox<a class="anchor-link" href="#The-Sleeping-Beauty-Paradox">&#182;</a></h1><p>The <a href="https://en.wikipedia.org/wiki/Sleeping_Beauty_problem">Sleeping Beauty Paradox</a> is another tricky one:</p>
<blockquote><p>Sleeping Beauty volunteers to undergo the following experiment and is told all of the following details: On Sunday she will be put to sleep. Once or twice, during the experiment, Beauty will be awakened, interviewed, and put back to sleep with an amnesia-inducing drug that makes her forget that awakening. A fair coin will be tossed to determine which experimental procedure to undertake: if the coin comes up heads, Beauty will be awakened and interviewed on Monday only. If the coin comes up tails, she will be awakened and interviewed on Monday and Tuesday. In either case, she will be awakened on Wednesday without interview and the experiment ends.
Any time Sleeping Beauty is awakened and interviewed, she is asked, "What is your belief now for the proposition that the coin landed heads?"</p>
</blockquote>
<p>What should Sleeping Beauty say when she is interviewed?  First, she should define the sample space.  She could use the notation <code>'heads/Monday/interviewed'</code> to mean the outcome where the coin flip was heads, it is Monday, and she is interviewed. So it seems there are 4 equiprobable outcomes:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[35]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">B</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;heads/Monday/interviewed&#39;</span><span class="p">,</span> <span class="s">&#39;heads/Tuesday/sleep&#39;</span><span class="p">,</span>
     <span class="s">&#39;tails/Monday/interviewed&#39;</span><span class="p">,</span> <span class="s">&#39;tails/Tuesday/interviewed&#39;</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>At this point, you're probably expecting me to define predicates, like this:</p>

<pre><code>def heads(outcome): return 'heads' in outcome
def interviewed(outcome): return 'interviewed' in outcome

</code></pre>
<p>We've seen a lot of predicates like this. I think it is time to heed the "<a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">don't repeat yourself</a>" principle, so I will define a predicate-defining function:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[36]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">T</span><span class="p">(</span><span class="nb">property</span><span class="p">):</span>
    <span class="s">&quot;Return a predicate that is true for all outcomes that contain the property as a substring.&quot;</span>
    <span class="k">return</span> <span class="k">lambda</span> <span class="n">outcome</span><span class="p">:</span> <span class="nb">property</span> <span class="ow">in</span> <span class="n">outcome</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can get the answer:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[37]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">heads</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="s">&quot;heads&quot;</span><span class="p">)</span>
<span class="n">interviewed</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="s">&quot;interviewed&quot;</span><span class="p">)</span>

<span class="n">P</span><span class="p">(</span><span class="n">heads</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">interviewed</span><span class="p">,</span> <span class="n">B</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[37]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>(Note I could have done that in one line instead of three: <code>P(T("heads"), such_that(T("interviewed"), B))</code>, but that's kind of ugly.)</p>
<p>This problem is considered a paradox because there are people who argue that the answer should be 1/2, not 1/3. I admit I'm having difficulty coming up with a sample space that supports the "halfer" position. I do know of a question that has the answer 1/2:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[38]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">heads</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> 
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[38]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>But that seems like the wrong question; we want the probability of heads given that Sleeping Beauty was interviewed, not the unconditional probability.</p>
<p>The "halfers" argue that before Sleeping Beauty goes to sleep, her unconditional probability for heads should be 1/2. When she is interviewed, she doesn't know anything more than before she went to sleep, so nothing has changed, so the probability of heads should still be 1/2. I find two flaws with this argument. First, if you want to convince me, show me a sample space; don't just make philosophical arguments. (Although a philosophical argument can be employed to help you define the right sample space.) Second, while I agree that before she goes to sleep, Beauty's <em>unconditional</em> probability for heads should be 1/2, I would say that both before she goes to sleep and when she is awakened, her <em>conditional</em> probability of heads <em>given that she is being interviewed</em> should be 1/3, as shown by the sample space.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="The-Monty-Hall-Paradox">The Monty Hall Paradox<a class="anchor-link" href="#The-Monty-Hall-Paradox">&#182;</a></h1><p><a href="https://en.wikipedia.org/wiki/Monty_Hall_problem">This</a> is one of the most famous probability paradoxes. It can be stated as follows:</p>
<blockquote><p>Suppose you're on a game show, and you're given the choice of three doors: Behind one door is a car; behind the others, goats. You pick a door, say No. 1, and the host, who knows what's behind the doors, opens another door, say No. 3, which has a goat. He then says to you, "Do you want to pick door No. 2?" Is it to your advantage to switch your choice?</p>
</blockquote>
<p>Much has been written about this problem, but to solve it all we have to do is be careful about how we understand the problem, and about defining our sample space.  I will define outcomes of the form <code>'Car1&lt;Pick1/Open2'</code>, which means</p>
<ul>
<li><code>Car1</code>: First the car is randomly placed behind door 1.</li>
<li><code>&lt;</code>: The host randomly commits to the strategy of opening the lowest-numbered allowable door. A door is allowable if it does not contain the car and was not picked by the contestant. Alternatively, the host could have chosen to open the highest-numbered allowable door (<code>&gt;</code>).</li>
<li><code>Pick1</code>: The contestant picks door 1.  Our sample space will only consider cases where the contestant picks door 1, but by symmetry, the same arguments could be used if the contestant picked door 2 or 3.</li>
<li><code>Open2</code>: After hearing the contestant's choice, and following the strategy, the host opens a door; in this case door 2.</li>
</ul>
<p>We can see that the sample space has 6 equiprobable outcomes:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[39]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">M</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;Car1&lt;Pick1/Open2&#39;</span><span class="p">,</span> <span class="s">&#39;Car1&gt;Pick1/Open3&#39;</span><span class="p">,</span>
     <span class="s">&#39;Car2&lt;Pick1/Open3&#39;</span><span class="p">,</span> <span class="s">&#39;Car2&gt;Pick1/Open3&#39;</span><span class="p">,</span>
     <span class="s">&#39;Car3&lt;Pick1/Open2&#39;</span><span class="p">,</span> <span class="s">&#39;Car3&gt;Pick1/Open2&#39;</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, assuming the contestant picks door 1 and the host opens door 3, what is the probability that the car is behind door 1? Or door 2?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[40]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;Car1&quot;</span><span class="p">),</span> <span class="n">such_that</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;Open3&quot;</span><span class="p">),</span> <span class="n">M</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[40]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[41]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;Car2&quot;</span><span class="p">),</span> <span class="n">such_that</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;Open3&quot;</span><span class="p">),</span> <span class="n">M</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[41]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(2, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We see that the strategy of <strong>switching</strong> from door 1 to door 2 will win the car 2/3 of the time, whereas the strategy of <strong>sticking</strong> with the original pick wins the car only 1/3 of the time. So if you like cars more than goats, you should switch. But don't feel bad if you got this one wrong; it turns out that Monty Hall himself, who opened numerous doors while hosting <em>Let's Make a Deal</em> for 13 years, didn't know the answer either, as revealed in this letter from Monty to statistician Lawrence Denenberg, when Denenberg asked for permission to use the problem in his textbook:
<img src="http://norvig.com/monty-hall-letter.jpg"></p>
<p>If you were Denenberg, how would you answer Monty, in non-mathematical terms.  I would try something like this:</p>
<blockquote><p>When the contestant makes her initial pick, she has 1/3 chance of picking the car, and there is a 2/3 chance the car is behind one of the other doors. That's still true after you open a door, but now the 2/3 chance for <em>either</em> other door becomes concentrated as 2/3 behind <em>one</em> other door, so the contestant should switch.</p>
</blockquote>
<p>But that argument was not persuasive to everyone. <a href="http://marilynvossavant.com/game-show-problem/">Marilyn vos Savant</a> reports that many of her readers still insist the answer is that it doesn't matter if the contestant switches; the odds are 1/2 either way. Let's try to discover what problem and what sample space those people are dealing with. Perhaps they are reasoning like this:</p>
<p>They define outcomes of the form <code>'Car1/Pick1/Open2/Goat'</code>, which means:</p>
<ul>
<li><code>Car1</code>: First the car is randomly placed behind door 1.</li>
<li><code>Pick1</code>: The contestant picks door 1.  </li>
<li><code>Open2</code>: The host opens one of the two other doors at random (so the host might open the door with the car).</li>
<li><code>Goat</code>: We observe there is a goat behind door 2.</li>
</ul>
<p>Under this interpretation, the sample space is:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[42]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">M2</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;Car1/Pick1/Open2/Goat&#39;</span><span class="p">,</span> <span class="s">&#39;Car1/Pick1/Open3/Goat&#39;</span><span class="p">,</span>
      <span class="s">&#39;Car2/Pick1/Open2/Car&#39;</span><span class="p">,</span>  <span class="s">&#39;Car2/Pick1/Open3/Goat&#39;</span><span class="p">,</span>
      <span class="s">&#39;Car3/Pick1/Open2/Goat&#39;</span><span class="p">,</span> <span class="s">&#39;Car3/Pick1/Open3/Car&#39;</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And we can calculate the probability of the car being behind each door, given that the contestant picks door 1 and the host opens door 3 to reveal a goat:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[43]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;Car1&quot;</span><span class="p">),</span> <span class="n">such_that</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;Open3/Goat&quot;</span><span class="p">),</span> <span class="n">M2</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[43]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[44]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;Car2&quot;</span><span class="p">),</span> <span class="n">such_that</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;Open3/Goat&quot;</span><span class="p">),</span> <span class="n">M2</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[44]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>So we see that under this interpretation it doesn't matter if you switch or not.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Non-Equiprobable-Outcomes:-Probability-Distributions">Non-Equiprobable Outcomes: Probability Distributions<a class="anchor-link" href="#Non-Equiprobable-Outcomes:-Probability-Distributions">&#182;</a></h1><p>So far, we have made the assumption that every outcome in a sample space is equally likely. In real life, the probability of a child being a girl (or boy) is not exactly 1/2 and the sex of a second child is not completely independent from the first. An <a href="http://people.kzoo.edu/barth/math105/moreboys.pdf">article</a> gives the following counts for two-child families in Denmark:</p>

<pre><code>GG: 121801    GB: 126840
BG: 127123    BB: 135138

</code></pre>
<p>We call this mapping from outcomes to their frequencies a <em>distribution</em>. Here are two more definitions:</p>
<ul>
<li><p><a href="http://mathworld.wolfram.com/StatisticalDistribution.html">Distribution</a>: An assignment of frequencies to every outcome in a sample space.</p>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/Probability_distribution">Probability Distribution</a>: A distribution that has been <em>normalized</em> so that the sum of the frequencies is 1 (and each frequency is between 0 and 1).</p>
</li>
</ul>
<p>We can implement distributions as <code>dict</code>s with this code:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">ProbDist</span> <span class="o">=</span> <span class="nb">dict</span>

<span class="k">def</span> <span class="nf">probdist</span><span class="p">(</span><span class="o">**</span><span class="n">entries</span><span class="p">):</span> <span class="s">&quot;Probability Distribution&quot;</span><span class="p">;</span> <span class="k">return</span> <span class="n">normalize</span><span class="p">(</span><span class="n">entries</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="n">dist</span><span class="p">):</span>
    <span class="s">&quot;Given a distribution (a dict), return a version where the values are normalized to sum to 1.&quot;</span>
    <span class="n">total</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">dist</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">e</span><span class="p">:</span> <span class="n">dist</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">/</span> <span class="n">total</span>
            <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">dist</span><span class="p">}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[46]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">DK</span> <span class="o">=</span> <span class="n">probdist</span><span class="p">(</span><span class="n">GG</span><span class="o">=</span><span class="mi">121801</span><span class="p">,</span> <span class="n">GB</span><span class="o">=</span><span class="mi">126840</span><span class="p">,</span>
              <span class="n">BG</span><span class="o">=</span><span class="mi">127123</span><span class="p">,</span> <span class="n">BB</span><span class="o">=</span><span class="mi">135138</span><span class="p">)</span>
<span class="n">DK</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[46]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{&apos;BB&apos;: 0.2645086533229465,
 &apos;BG&apos;: 0.24882071317004043,
 &apos;GB&apos;: 0.24826679089140383,
 &apos;GG&apos;: 0.23840384261560926}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we need to modify the functions <code>P</code> and <code>such_that</code> to accept either a sample space  or a probability distribution:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">P</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">space</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;The probability of an event, given a sample space of equiprobable outcomes. </span>
<span class="sd">    The event can be either a collection of outcomes, or a predicate that is true of outcomes in the event. </span>
<span class="sd">    The space can be either a set of outcomes or a probability distribution of {outcome: frequency} pairs.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">callable</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">such_that</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">space</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">space</span><span class="p">,</span> <span class="n">ProbDist</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">space</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">space</span> <span class="k">if</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">event</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">Fraction</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">event</span> <span class="o">&amp;</span> <span class="n">space</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">space</span><span class="p">))</span>
    
<span class="k">def</span> <span class="nf">such_that</span><span class="p">(</span><span class="n">predicate</span><span class="p">,</span> <span class="n">space</span><span class="p">):</span> 
    <span class="sd">&quot;&quot;&quot;The elements in the space for which the predicate is true.</span>
<span class="sd">    If space is a set, return a subset {element,...} where predicate(element) is true.</span>
<span class="sd">    If space is a dict, return a sub-dict of {element: frequency,...} pairs where predicate(element) is true.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">space</span><span class="p">,</span> <span class="n">ProbDist</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">normalize</span><span class="p">({</span><span class="n">e</span><span class="p">:</span><span class="n">space</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">space</span> <span class="k">if</span> <span class="n">predicate</span><span class="p">(</span><span class="n">e</span><span class="p">)})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">e</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">space</span> <span class="k">if</span> <span class="n">predicate</span><span class="p">(</span><span class="n">e</span><span class="p">)}</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First, let's verify that it still works on the old problems where the sample space is a set:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 1 in S</span>
<span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">older_is_a_boy</span><span class="p">,</span> <span class="n">S</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[48]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 2)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 2 in S</span>
<span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">at_least_one_boy</span><span class="p">,</span> <span class="n">S</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[49]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's see if the definitions work with the probability distribution <code>DK</code>. We expect a little over 1/2 for Problem 1, and a little over 1/3 for problem 2:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 1 in DK</span>
<span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">older_is_a_boy</span><span class="p">,</span> <span class="n">DK</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[50]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0.5152805792702689</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 2 in DK</span>
<span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">at_least_one_boy</span><span class="p">,</span> <span class="n">DK</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[51]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0.34730828242538575</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It all looks good. Now let's try a new problem that would not have been feasible with a set-based sample space.</p>
<h2 id="Problem-4.-One-is-a-boy-born-on-Feb.-29.-What-is-the-probability-both-are-boys?">Problem 4. One is a boy born on Feb. 29. What is the probability both are boys?<a class="anchor-link" href="#Problem-4.-One-is-a-boy-born-on-Feb.-29.-What-is-the-probability-both-are-boys?">&#182;</a></h2><ul>
<li><strong>Problem 4.</strong> I have two children. At least one of them is a boy born on leap day, February 29. What is the probability that both children are boys? Assume that 51.5% of births are boys and that birth days are distributed evenly across the 4&times;365 + 1 days in a 4-year cycle.</li>
</ul>
<p>We will use the notation <code>GLBN</code> to mean an older girl born on leap day and a younger boy born on a non-leap day. We'll define a helper function, <code>joint</code>, that creates the joint probability distribution of two probability distributions:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">joint</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The joint distribution of two independent probability distributions. </span>
<span class="sd">    Result is all entries of the form {a+b: A[a]*B[b]}&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">normalize</span><span class="p">({</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">:</span> <span class="n">A</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="o">*</span> <span class="n">B</span><span class="p">[</span><span class="n">b</span><span class="p">]</span>
                      <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">A</span>
                      <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">B</span><span class="p">})</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[53]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">sexes</span> <span class="o">=</span> <span class="n">probdist</span><span class="p">(</span><span class="n">B</span><span class="o">=</span><span class="mf">51.5</span><span class="p">,</span> <span class="n">G</span><span class="o">=</span><span class="mf">48.5</span><span class="p">)</span>   <span class="c"># Probability distruibution over sexes</span>
<span class="n">days</span>  <span class="o">=</span> <span class="n">probdist</span><span class="p">(</span><span class="n">L</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">4</span><span class="o">*</span><span class="mi">365</span><span class="p">)</span> <span class="c"># Probability distribution over Leap days and Non-leap days</span>
<span class="n">child</span> <span class="o">=</span> <span class="n">joint</span><span class="p">(</span><span class="n">sexes</span><span class="p">,</span> <span class="n">days</span><span class="p">)</span>     <span class="c"># Probability distribution for one child family</span>
<span class="n">S4</span>    <span class="o">=</span> <span class="n">joint</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>    <span class="c"># Probability distribution for two-child family</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's check out the more complex probability distributions:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">child</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[54]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{&apos;BL&apos;: 0.00035249828884325804,
 &apos;BN&apos;: 0.5146475017111568,
 &apos;GL&apos;: 0.0003319644079397673,
 &apos;GN&apos;: 0.48466803559206023}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[55]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">S4</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[55]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{&apos;BLBL&apos;: 1.2425504363742495e-07,
 &apos;BLBN&apos;: 0.00018141236371064045,
 &apos;BLGL&apos;: 1.170168857556332e-07,
 &apos;BLGN&apos;: 0.0001708446532032245,
 &apos;BNBL&apos;: 0.00018141236371064045,
 &apos;BNBN&apos;: 0.26486205101753507,
 &apos;BNGL&apos;: 0.00017084465320322452,
 &apos;BNGN&apos;: 0.24943319367670777,
 &apos;GLBL&apos;: 1.170168857556332e-07,
 &apos;GLBN&apos;: 0.00017084465320322452,
 &apos;GLGL&apos;: 1.102003681388002e-07,
 &apos;GLGN&apos;: 0.0001608925374826483,
 &apos;GNBL&apos;: 0.0001708446532032245,
 &apos;GNBN&apos;: 0.24943319367670777,
 &apos;GNGL&apos;: 0.0001608925374826483,
 &apos;GNGN&apos;: 0.2349031047246665}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And we can solve the problem:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="c"># Problem 4</span>
<span class="n">P</span><span class="p">(</span><span class="n">two_boys</span><span class="p">,</span> <span class="n">such_that</span><span class="p">(</span><span class="n">T</span><span class="p">(</span><span class="s">&quot;BL&quot;</span><span class="p">),</span> <span class="n">S4</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[56]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>0.5149145040963757</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Simulation">Simulation<a class="anchor-link" href="#Simulation">&#182;</a></h1><p>Sometimes it is inconvenient to explicitly define a sample space. Perhaps the sample space is infinite, or perhaps it is just very large and complicated, and we feel more confident in writing a program to <em>simulate</em> the situation, rather than one to <em>enumerate</em> the complete sample space. <em>Sampling</em> from the simulation
can give an accurate estimate of the probability.</p>
<p>For example, here's a simulation of the Monty Hall problem. Given a boolean input saying whether the contestent wants to switch doors or not, the function <code>monty(switch)</code> returns True iff the contestant picks the car.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[57]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">Counter</span>

<span class="k">def</span> <span class="nf">monty</span><span class="p">(</span><span class="n">switch</span><span class="o">=</span><span class="k">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Simulate this sequence of events:</span>
<span class="sd">    - The host randomly chooses a door for the &#39;car&#39;</span>
<span class="sd">    - The contestant randomly makes a &#39;pick&#39; of one of the doors</span>
<span class="sd">    - The host randomly selects a valid door to be &#39;opened.&#39; </span>
<span class="sd">    - If &#39;switch&#39; is True, contestant changes &#39;pick&#39; to the other door</span>
<span class="sd">    Return true if the pick is the door with the car.&quot;&quot;&quot;</span>
    <span class="n">doors</span>  <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">car</span>    <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">doors</span><span class="p">)</span>
    <span class="n">pick</span>   <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">doors</span><span class="p">)</span>
    <span class="n">opened</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">([</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">doors</span> <span class="k">if</span> <span class="n">d</span> <span class="o">!=</span> <span class="n">car</span> <span class="ow">and</span> <span class="n">d</span> <span class="o">!=</span> <span class="n">pick</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">switch</span><span class="p">:</span>
        <span class="n">pick</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">doors</span> <span class="k">if</span> <span class="n">d</span> <span class="o">!=</span> <span class="n">pick</span> <span class="ow">and</span> <span class="n">d</span> <span class="o">!=</span> <span class="n">opened</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">pick</span> <span class="o">==</span> <span class="n">car</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can confirm that the contestant wins about 2/3 of the time with the <code>switch</code> strategy, and only wins about 1/3 of the time when not switching:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">Counter</span><span class="p">(</span><span class="n">monty</span><span class="p">(</span><span class="n">switch</span><span class="o">=</span><span class="k">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[58]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({False: 33348, True: 66652})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[59]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">Counter</span><span class="p">(</span><span class="n">monty</span><span class="p">(</span><span class="n">switch</span><span class="o">=</span><span class="k">False</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[59]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Counter({False: 66574, True: 33426})</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Simulating-Monopoly">Simulating Monopoly<a class="anchor-link" href="#Simulating-Monopoly">&#182;</a></h1><p>Here's an example where simulation seems to be much easier than enumeration: <a href="https://projecteuler.net/problem=84">problem 84</a> from the excellent <a href="https://projecteuler.net">Project Euler</a> asks the reader to simulate the game of Monopoly for a single player, and report on the probability of the player ending a roll on each of the squares on the board. The simulation takes into account die rolls, chance and community chest cards, and going to jail (from the "go to jail" space, from a card, or from rolling doubles three times in a row). The simulation does not take into account anything about buying or selling properties or exchanging money or winning or losing the game.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">split</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">split</span>

<span class="c"># The board: a list of the names of the 40 squares</span>
<span class="n">board</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;&quot;GO   A1 CC1 A2  T1 R1 B1  CH1 B2 B3</span>
<span class="s">                 JAIL C1 U1  C2  C3 R2 D1  CC2 D2 D3 </span>
<span class="s">                 FP   E1 CH2 E2  E3 R3 F1  F2  U2 F3 </span>
<span class="s">                 G2J  G1 G2  CC3 G3 R4 CH3 H1  T2 H2&quot;&quot;&quot;</span><span class="p">)</span>

<span class="c"># The deck of 16 community chest cards. See do_card.</span>
<span class="n">CC</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&#39;GO JAIL&#39;</span> <span class="o">+</span> <span class="mi">14</span> <span class="o">*</span> <span class="s">&#39; ?&#39;</span><span class="p">)</span>

<span class="c"># The deck of 16 chance cards. See do_card.</span>
<span class="n">CH</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&#39;GO JAIL C1 E3 H2 R1 R R U -3&#39;</span> <span class="o">+</span> <span class="mi">6</span> <span class="o">*</span> <span class="s">&#39; ?&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">monopoly</span><span class="p">(</span><span class="n">steps</span><span class="p">):</span>
    <span class="s">&quot;Simulate given number of steps of monopoly game, yielding the name of the current square after each step.&quot;</span>
    <span class="k">global</span> <span class="n">here</span>
    <span class="n">here</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>
    <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">CH</span><span class="p">)</span>
    <span class="n">doubles</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">steps</span><span class="p">):</span>
        <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
        <span class="n">goto</span><span class="p">(</span><span class="n">here</span> <span class="o">+</span> <span class="n">d1</span> <span class="o">+</span> <span class="n">d2</span><span class="p">)</span>
        <span class="n">doubles</span> <span class="o">=</span> <span class="p">(</span><span class="n">doubles</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">d1</span> <span class="o">==</span> <span class="n">d2</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">doubles</span> <span class="o">==</span> <span class="mi">3</span> <span class="ow">or</span> <span class="n">board</span><span class="p">[</span><span class="n">here</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;G2J&#39;</span><span class="p">:</span>  
            <span class="n">goto</span><span class="p">(</span><span class="s">&#39;JAIL&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">board</span><span class="p">[</span><span class="n">here</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;CC&#39;</span><span class="p">):</span>
            <span class="n">do_card</span><span class="p">(</span><span class="n">CC</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">board</span><span class="p">[</span><span class="n">here</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;CH&#39;</span><span class="p">):</span>
            <span class="n">do_card</span><span class="p">(</span><span class="n">CH</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">board</span><span class="p">[</span><span class="n">here</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">goto</span><span class="p">(</span><span class="n">square</span><span class="p">):</span>
    <span class="s">&quot;Go to destination square, which can be either a square number or a square name. Update &#39;here&#39;.&quot;</span>
    <span class="k">global</span> <span class="n">here</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">here</span> <span class="o">=</span> <span class="n">square</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">board</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">here</span> <span class="o">=</span> <span class="n">board</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">do_card</span><span class="p">(</span><span class="n">deck</span><span class="p">):</span>
    <span class="s">&quot;Take the top card from deck and do what it says.&quot;</span>
    <span class="k">global</span> <span class="n">here</span>
    <span class="n">card</span> <span class="o">=</span> <span class="n">deck</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>        <span class="c"># Remove card from deck</span>
    <span class="n">deck</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">card</span><span class="p">]</span>       <span class="c"># Put card back on bottom of deck</span>
    <span class="k">if</span> <span class="n">card</span> <span class="o">==</span> <span class="s">&#39;R&#39;</span> <span class="ow">or</span> <span class="n">card</span> <span class="o">==</span> <span class="s">&#39;U&#39;</span><span class="p">:</span> 
        <span class="k">while</span> <span class="ow">not</span> <span class="n">board</span><span class="p">[</span><span class="n">here</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">card</span><span class="p">):</span>
            <span class="n">goto</span><span class="p">(</span><span class="n">here</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>   <span class="c"># Advance to next railroad or utility</span>
    <span class="k">elif</span> <span class="n">card</span> <span class="o">==</span> <span class="s">&#39;-3&#39;</span><span class="p">:</span>
        <span class="n">goto</span><span class="p">(</span><span class="n">here</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span>       <span class="c"># Go back 3 spaces</span>
    <span class="k">elif</span> <span class="n">card</span> <span class="o">==</span> <span class="s">&#39;?&#39;</span><span class="p">:</span>
        <span class="k">pass</span>                 <span class="c"># Card is about money, not about movement</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">goto</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>           <span class="c"># Go to destination named on card</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">results</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">monopoly</span><span class="p">(</span><span class="mi">100000</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="o">%</span><span class="k">matplotlib</span> inline 
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">([</span><span class="n">board</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">results</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">40</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
6qD/B/Jr51Atn3q6AAAAAElFTkSuQmCC
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">Counter</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[63]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[(&apos;JAIL&apos;, 6233),
 (&apos;GO&apos;, 3179),
 (&apos;E3&apos;, 3117),
 (&apos;R3&apos;, 3109),
 (&apos;D3&apos;, 3081),
 (&apos;D2&apos;, 3002),
 (&apos;R1&apos;, 2978),
 (&apos;R2&apos;, 2938),
 (&apos;E2&apos;, 2862),
 (&apos;FP&apos;, 2795),
 (&apos;U2&apos;, 2789),
 (&apos;D1&apos;, 2771),
 (&apos;E1&apos;, 2766),
 (&apos;C1&apos;, 2734),
 (&apos;F1&apos;, 2695),
 (&apos;G1&apos;, 2694),
 (&apos;F2&apos;, 2682),
 (&apos;CC2&apos;, 2634),
 (&apos;G2&apos;, 2630),
 (&apos;H2&apos;, 2598),
 (&apos;U1&apos;, 2560),
 (&apos;F3&apos;, 2548),
 (&apos;C3&apos;, 2475),
 (&apos;R4&apos;, 2451),
 (&apos;G3&apos;, 2439),
 (&apos;B2&apos;, 2412),
 (&apos;CC3&apos;, 2369),
 (&apos;C2&apos;, 2356),
 (&apos;T1&apos;, 2318),
 (&apos;B3&apos;, 2311),
 (&apos;B1&apos;, 2188),
 (&apos;A2&apos;, 2181),
 (&apos;T2&apos;, 2160),
 (&apos;H1&apos;, 2160),
 (&apos;A1&apos;, 2130),
 (&apos;CC1&apos;, 1882),
 (&apos;CH2&apos;, 1021),
 (&apos;CH1&apos;, 882),
 (&apos;CH3&apos;, 870)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can see that <code>JAIL</code> is by far the most popular square (at a little over 6%), and that the three least popular squares (around 1%) are the three chance squares, <code>CH1</code>, <code>CH2</code>, and <code>CH3</code> (because 10 of the 16 chance cards send the player away from the square). The other squares are pretty evenly distributed at 2% to 3% each.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Classy-Monopoly">Classy Monopoly<a class="anchor-link" href="#Classy-Monopoly">&#182;</a></h1><p>Some people might think that the "<code>global here</code>" is bad style. One way to eliminate global variables is to pack them up into objects.  We can do that by making a <code>Monopoly</code> class.  My personal preference would be that the "<code>global here</code>" declarations add less visual clutter than the 32 instances of <code>self.</code> needed for the class definition, but I present this refactored version for those who prefer it.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">class</span> <span class="nc">Monopoly</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Initialize the Monopoly game.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">board</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;&quot;GO   A1 CC1 A2  T1 R1 B1  CH1 B2 B3</span>
<span class="s">                              JAIL C1 U1  C2  C3 R2 D1  CC2 D2 D3 </span>
<span class="s">                              FP   E1 CH2 E2  E3 R3 F1  F2  U2 F3 </span>
<span class="s">                              G2J  G1 G2  CC3 G3 R4 CH3 H1  T2 H2&quot;&quot;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CC</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&#39;GO JAIL&#39;</span> <span class="o">+</span> <span class="mi">14</span> <span class="o">*</span> <span class="s">&#39; ?&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">CH</span> <span class="o">=</span> <span class="n">split</span><span class="p">(</span><span class="s">&#39;GO JAIL C1 E3 H2 R1 R R U -3&#39;</span> <span class="o">+</span> <span class="mi">6</span> <span class="o">*</span> <span class="s">&#39; ?&#39;</span><span class="p">)</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CC</span><span class="p">)</span>
        <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CH</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">here</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
        
    <span class="k">def</span> <span class="nf">simulate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">steps</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Simulate given number of steps of monopoly game, incrementing counter </span>
<span class="sd">        for current square after each step. Return a list of (square, count) pairs, in order.&quot;&quot;&quot;</span>
        <span class="n">doubles</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">steps</span><span class="p">):</span>
            <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">here</span> <span class="o">+</span> <span class="n">d1</span> <span class="o">+</span> <span class="n">d2</span><span class="p">)</span>
            <span class="n">doubles</span> <span class="o">=</span> <span class="p">(</span><span class="n">doubles</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">d1</span> <span class="o">==</span> <span class="n">d2</span><span class="p">)</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">doubles</span> <span class="o">==</span> <span class="mi">3</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">here</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;G2J&#39;</span><span class="p">:</span>  
                <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="s">&#39;JAIL&#39;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">here</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;CC&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_card</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CC</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">here</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">&#39;CH&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">do_card</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CH</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">here</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">goto</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">square</span><span class="p">):</span>
        <span class="s">&quot;Go to destination square, which can be either a square number or a square name.&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">square</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">here</span> <span class="o">=</span> <span class="n">square</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">here</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">do_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">deck</span><span class="p">):</span>
        <span class="s">&quot;Take the top card from deck and do what it says.&quot;</span>
        <span class="n">card</span> <span class="o">=</span> <span class="n">deck</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>                <span class="c"># Remove card from deck</span>
        <span class="n">deck</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">card</span><span class="p">]</span>               <span class="c"># Put card back on bottom of deck</span>
        <span class="k">if</span> <span class="n">card</span> <span class="o">==</span> <span class="s">&#39;R&#39;</span> <span class="ow">or</span> <span class="n">card</span> <span class="o">==</span> <span class="s">&#39;U&#39;</span><span class="p">:</span> 
            <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">board</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">here</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">card</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">here</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="c"># Advance to next railroad or utility</span>
        <span class="k">elif</span> <span class="n">card</span> <span class="o">==</span> <span class="s">&#39;-3&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">here</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span>     <span class="c"># Go back 3 spaces</span>
        <span class="k">elif</span> <span class="n">card</span> <span class="o">!=</span> <span class="s">&#39;?&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">goto</span><span class="p">(</span><span class="n">card</span><span class="p">)</span>              <span class="c"># Go to a destination</span>
            
    <span class="k">def</span> <span class="nf">hist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">&quot;Plot a histogram&quot;</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="nb">range</span><span class="p">)</span>
        
<span class="n">split</span> <span class="o">=</span> <span class="nb">str</span><span class="o">.</span><span class="n">split</span>
                    
<span class="n">Monopoly</span><span class="p">()</span><span class="o">.</span><span class="n">simulate</span><span class="p">(</span><span class="mi">100000</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[64]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>[(&apos;JAIL&apos;, 6243),
 (&apos;E3&apos;, 3216),
 (&apos;D3&apos;, 3143),
 (&apos;GO&apos;, 3083),
 (&apos;R3&apos;, 3025),
 (&apos;D2&apos;, 2974),
 (&apos;R2&apos;, 2962),
 (&apos;R1&apos;, 2942),
 (&apos;FP&apos;, 2927),
 (&apos;U2&apos;, 2858),
 (&apos;E1&apos;, 2826),
 (&apos;E2&apos;, 2750),
 (&apos;C1&apos;, 2739),
 (&apos;F2&apos;, 2738),
 (&apos;D1&apos;, 2735),
 (&apos;F1&apos;, 2642),
 (&apos;G1&apos;, 2635),
 (&apos;H2&apos;, 2607),
 (&apos;G2&apos;, 2578),
 (&apos;C3&apos;, 2569),
 (&apos;F3&apos;, 2568),
 (&apos;U1&apos;, 2567),
 (&apos;G3&apos;, 2473),
 (&apos;CC2&apos;, 2467),
 (&apos;R4&apos;, 2441),
 (&apos;CC3&apos;, 2427),
 (&apos;B2&apos;, 2375),
 (&apos;C2&apos;, 2328),
 (&apos;B3&apos;, 2318),
 (&apos;T1&apos;, 2246),
 (&apos;T2&apos;, 2239),
 (&apos;B1&apos;, 2229),
 (&apos;A2&apos;, 2211),
 (&apos;H1&apos;, 2118),
 (&apos;A1&apos;, 2109),
 (&apos;CC1&apos;, 1895),
 (&apos;CH2&apos;, 1046),
 (&apos;CH3&apos;, 903),
 (&apos;CH1&apos;, 848)]</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="The-St.-Petersburg-Paradox">The St. Petersburg Paradox<a class="anchor-link" href="#The-St.-Petersburg-Paradox">&#182;</a></h1><p>One more famous paradox:  The <a href="https://en.wikipedia.org/wiki/St._Petersburg_paradox">St. Petersburg paradox</a> from 1713, named for the home town of the <a href="http://www.storyofmathematics.com/18th_bernoulli.html">Bernoulli brothers</a>:</p>
<blockquote><p>A casino offers a game of chance for a single player in which a fair coin is tossed at each stage. The pot starts at 2 dollars and is doubled every time a head appears. The first time a tail appears, the game ends and the player wins whatever is in the pot. Thus the player wins 2 dollars if a tail appears on the first toss, 4 dollars if a head appears on the first toss and a tail on the second, etc. What is the expected value of this game to the player?</p>
</blockquote>
<p>To calculate the expected value, we see there is a 1/2 chance of a tail on the first toss (yielding a pot of \$2) and if not that, a 1/2 &times; 1/2 = 1/4 chance of a tail on the second toss (yielding a pot of \$4), and so on. So in total, the expected value is:</p>
$$\frac{1}{2}\cdot 2 + \frac{1}{4}\cdot 4 + \frac{1}{8}\cdot 8 + \frac{1}{16} \cdot 16 + \cdots = 1 + 1 + 1 + 1 + \cdots = \infty$$<p>The expected value is infinite! But anyone playing the game would not expect to win an infinite amount; thus the paradox.</p>
<h2 id="Response-1:-Limited-Resources">Response 1: Limited Resources<a class="anchor-link" href="#Response-1:-Limited-Resources">&#182;</a></h2><p>The first major response to the paradox is that the casino's resources are limited. Once you break their bank, they can't pay out any more, and thus the expected return is finite. Let's model that by creating a probability distribution for the problem with a limited bank. We keep doubling the pot and halving the probability of winning the amount in the pot (half because you get the pot on a tail but not a head), until we reach the limit:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">st_pete</span><span class="p">(</span><span class="n">limit</span><span class="p">):</span>
    <span class="s">&quot;Return the probability distribution for the St. Petersburg Paradox with a limited bank.&quot;</span>
    <span class="n">P</span> <span class="o">=</span> <span class="p">{}</span>     <span class="c"># The probability distribution</span>
    <span class="n">pot</span> <span class="o">=</span> <span class="mi">2</span>    <span class="c"># Amount of money in the pot</span>
    <span class="n">pr</span>  <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mf">2.</span> <span class="c"># Probability that you end up with the amount in pot</span>
    <span class="k">while</span> <span class="n">pot</span> <span class="o">&lt;</span> <span class="n">limit</span><span class="p">:</span>
        <span class="n">P</span><span class="p">[</span><span class="n">pot</span><span class="p">]</span> <span class="o">=</span> <span class="n">pr</span>
        <span class="n">pot</span><span class="p">,</span> <span class="n">pr</span> <span class="o">=</span> <span class="n">pot</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="n">pr</span> <span class="o">/</span> <span class="mf">2.</span>
    <span class="n">P</span><span class="p">[</span><span class="n">limit</span><span class="p">]</span> <span class="o">=</span> <span class="n">pr</span> <span class="o">*</span> <span class="mi">2</span>               <span class="c"># pr * 2 because you get limit for heads or tails</span>
    <span class="k">assert</span> <span class="nb">sum</span><span class="p">(</span><span class="n">P</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="o">==</span> <span class="mf">1.0</span>
    <span class="k">return</span> <span class="n">P</span>

<span class="n">StP</span> <span class="o">=</span> <span class="n">st_pete</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">)</span>
<span class="n">StP</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[65]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{2: 0.5,
 4: 0.25,
 8: 0.125,
 16: 0.0625,
 32: 0.03125,
 64: 0.015625,
 128: 0.0078125,
 256: 0.00390625,
 512: 0.001953125,
 1024: 0.0009765625,
 2048: 0.00048828125,
 4096: 0.000244140625,
 8192: 0.0001220703125,
 16384: 6.103515625e-05,
 32768: 3.0517578125e-05,
 65536: 1.52587890625e-05,
 131072: 7.62939453125e-06,
 262144: 3.814697265625e-06,
 524288: 1.9073486328125e-06,
 1048576: 9.5367431640625e-07,
 2097152: 4.76837158203125e-07,
 4194304: 2.384185791015625e-07,
 8388608: 1.1920928955078125e-07,
 16777216: 5.960464477539063e-08,
 33554432: 2.9802322387695312e-08,
 67108864: 1.4901161193847656e-08,
 134217728: 7.450580596923828e-09,
 268435456: 3.725290298461914e-09,
 536870912: 1.862645149230957e-09,
 1000000000: 1.862645149230957e-09}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we define the function <code>EV</code> to compute the <a href="https://en.wikipedia.org/wiki/Expected_value">expected value</a> of the (limited) St. Petersburg probability distribution:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">EV</span><span class="p">(</span><span class="n">P</span><span class="p">):</span>
    <span class="s">&quot;The expected value of a probability distribution.&quot;</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">*</span> <span class="n">v</span> 
               <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">P</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">EV</span><span class="p">(</span><span class="n">StP</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[67]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>30.862645149230957</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This says that for a casino with a bankroll of a billion dollars, you should be willing to pay \$30.86 to play the game. Would you pay that much? I wouldn't, and neither would Daniel Bernoulli.</p>
<h2 id="Response-2:-Value-of-Money">Response 2: Value of Money<a class="anchor-link" href="#Response-2:-Value-of-Money">&#182;</a></h2><p>Bernoulli came up with a second response to the paradox based on the idea that if you have a lot of money, then additional money becomes less valuable to you. How much less valuable? Bernoulli proposed, and <a href="https://books.google.com/books?id=1oEa-BiARWUC&pg=PA205&lpg=PA205&dq=mr+beard+oil+wildcatter+value+of+money+utility&source=bl&ots=cBDIX-rkTz&sig=GHB8-inorWrU39vA8JYV_sCtqB8&hl=en&sa=X&ved=0CCAQ6AEwAGoVChMI5fu-p8qlyAIViKWICh0XAAz5#v=onepage&q=mr%20beard%20oil%20wildcatter%20value%20of%20money%20utility&f=false">experiments confirm</a>, that <em>the value of money is roughly logarithmic.</em> The idea is that if I had very little money, and I won \$1000, I would be very happy. But if I already had a million dollars and I won \$1000, it would make less difference to me; the \$1000 would be less valuable.</p>
<p>I'll write the function <code>util</code> to describe what a dollar amount is worth to a hypothetical gambler. <code>util</code> says that a dollar is worth a dollar, until the amount is "enough" money. After that point, each additional dollar is worth half as much (only brings half as much happiness). Value keeps accumulating at this rate until we reach the next threshold of "enough," when the utility of additional dollars is halfed again. The exact details of <code>util</code> are not critical; what matters is that overall money becomes less valuable after we have won a lot of it.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">util</span><span class="p">(</span><span class="n">dollars</span><span class="p">,</span> <span class="n">enough</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span> 
    <span class="s">&quot;The value of money: only half as valuable after you already have enough.&quot;</span>
    <span class="k">if</span> <span class="n">dollars</span> <span class="o">&lt;</span> <span class="n">enough</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">dollars</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">enough</span> <span class="o">+</span> <span class="n">util</span><span class="p">((</span><span class="n">dollars</span><span class="o">-</span><span class="n">enough</span><span class="p">)</span><span class="o">/</span><span class="mf">2.</span><span class="p">,</span> <span class="n">enough</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A table and a plot will give a feel for the <code>util</code> function. Notice the characterisitc concave-down shape of the plot.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s">&#39;{:15,d} $ = {:10,d} util&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="n">d</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">util</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="n">d</span><span class="p">))))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>            100 $ =        100 util
          1,000 $ =      1,000 util
         10,000 $ =      4,250 util
        100,000 $ =     15,937 util
      1,000,000 $ =     51,593 util
     10,000,000 $ =    162,460 util
    100,000,000 $ =    535,646 util
  1,000,000,000 $ =  1,658,229 util
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">util</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">10000000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)])</span>
<span class="nb">print</span><span class="p">(</span><span class="s">&#39;Y axis is util(x); x axis is in thousands of dollars.&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Y axis is util(x); x axis is in thousands of dollars.
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now I will define the function <code>EU</code>, which computes the <a href="http://wiki.lesswrong.com/wiki/Expected_utility">expected utility</a> of the game:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">EU</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="n">U</span><span class="p">):</span>
    <span class="s">&quot;The expected utility of a probability distribution, given a utility function.&quot;</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">P</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="o">*</span> <span class="n">U</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> 
               <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">P</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">EU</span><span class="p">(</span><span class="n">StP</span><span class="p">,</span> <span class="n">util</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[72]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>13.101970414893003</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>That says we should pay up to \$13.10 to play the game, which sounds more reasonable than \$30.86.</p>
<h1 id="Understanding-the-St.-Petersburg-Problem-Better-through-Simulation">Understanding the St. Petersburg Problem Better through Simulation<a class="anchor-link" href="#Understanding-the-St.-Petersburg-Problem-Better-through-Simulation">&#182;</a></h1><p>Before I plunk down my \$13, I'd like to understand the game better. I'll write a simulation of the game:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[73]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">flip</span><span class="p">():</span> <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">((</span><span class="s">&#39;head&#39;</span><span class="p">,</span> <span class="s">&#39;tail&#39;</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">simulate_st_pete</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="o">**</span><span class="mi">9</span><span class="p">):</span>
    <span class="s">&quot;Simulate one round of the St. Petersburg game, and return the payoff.&quot;</span>
    <span class="n">pot</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="k">while</span> <span class="n">flip</span><span class="p">()</span> <span class="o">==</span> <span class="s">&#39;head&#39;</span><span class="p">:</span>
        <span class="n">pot</span> <span class="o">=</span> <span class="n">pot</span> <span class="o">*</span> <span class="mi">2</span>
        <span class="k">if</span> <span class="n">pot</span> <span class="o">&gt;</span> <span class="n">limit</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">limit</span>
    <span class="k">return</span> <span class="n">pot</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I will run the simulation 100,000 times (with a random seed specified for reproducability) and make the results into a probability distribution:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[74]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1234</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">normalize</span><span class="p">(</span><span class="n">Counter</span><span class="p">(</span><span class="n">simulate_st_pete</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100000</span><span class="p">)))</span>
<span class="n">results</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[74]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>{2: 0.49806,
 4: 0.24876,
 8: 0.12682,
 16: 0.06339,
 32: 0.03156,
 64: 0.01554,
 128: 0.00814,
 256: 0.00385,
 512: 0.00215,
 1024: 0.00074,
 2048: 0.00056,
 4096: 0.00021,
 8192: 9e-05,
 16384: 9e-05,
 32768: 1e-05,
 65536: 1e-05,
 131072: 2e-05}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[75]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">EU</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">util</span><span class="p">)</span> 
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[75]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>12.726089999999996</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The results are about what you would expect: about half the pots are 2, a quarter are 4, and higher pots are more and more unlikely. The expected utility was just a little bit less than the theoretical expected utility (12.72 vs. 13.10).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">EV</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[76]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>17.73388</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The expected value (17.73) is only about half the theoretical expected value (30.86). Why should there be such a big difference? I think the answer is <em>variance</em>. If I averaged an infinite number of rounds I would get 30.86, but if I can only average a finite number, most of the time I will get a result less than 30.86, and a very small number of times I will get an average very much larger than 30.86, because the round happened to include a very big (but very rare) pot.</p>
<p>To see better how things unfold, I will define a function to plot the running average of repeated rounds:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[77]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="k">def</span> <span class="nf">running_averages</span><span class="p">(</span><span class="n">iterable</span><span class="p">):</span>
    <span class="s">&quot;For each element in the iterable, yield the mean of all elements seen so far.&quot;</span> 
    <span class="n">total</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">iterable</span><span class="p">:</span>
        <span class="n">total</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">total</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">yield</span> <span class="n">total</span> <span class="o">/</span> <span class="n">n</span>

<span class="k">def</span> <span class="nf">plot_running_averages</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="s">&quot;Plot the running average of calling the function n times.&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">running_averages</span><span class="p">(</span><span class="n">fn</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">))))</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's do ten repetitions of plotting 100,000 rounds each repetition:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[78]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="s">&#39;running&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">plot_running_averages</span><span class="p">(</span><span class="n">simulate_st_pete</span><span class="p">,</span> <span class="mi">100000</span><span class="p">);</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
2e09U2obSJTSmY1HHtEfXXu7zinHxurOXfHxcNFF8ItfnFyN0zabLpXfeSe8/rpu1F+5UtdOZmbq
EsStt+rgOmQIXH31/iAh+ZHe19Uqo30Mw5gHzOu4XwfM6OqxcqJzKKvr2YAQFaW/kDk5cOGFcMkl
aXzy7BRM5Sa8P/ViMZ3wRxI8EyboRaU9Hv1r+vOfdUd7v/9rJYSjKirS/S/XrdN1IenpukX25z/X
/TfFN1JKVx8VFuoG7NpaHWdfekk/djj09++UU3RVSn6+br8Y6JTSX6crrzx4u8+nv26LF8OSJfD8
87pTnMmkP5tp03TD/5gxOpCY+syQ2oGlT32sOVE5rKpZ1eO59ZEjdY7k4os7JsH7309g11Csj1kJ
GIFv3L/PSk7WS5ldeKEeiXXeeXDFFbqz/SG/oGOqwx0+XHf6r67WFecXX6zL/B98cPJkcbtJXJy+
CBYX649u/XpdvbRsmS6tRkXpXkwPPKCn8KirC3aKe5fFon+XN96ouwcvW6a7AS9YALfdpqdOf/ll
HRiionQgvflm3WtMShPdp0/lSSIdemDzZ+WfMT17eq+cMytLD1Z6651V1F8+gscXPM6Dpz7YK+fu
dkrBd7+rq3kA7rpLl9U//lhnQzsc97U8IUGP9HriCR1cbrwRqqrg0Ud1H8zo6O57DyeJrCx9u/Za
/biuTueOFy7U7frnnru/FFFYqBtjx407udr6rVa9+t6oQ/p87Nmjx46sWqU/s2ef1QE2Lk63VQwd
qqvoTj1VB5moqOCkvz8KSkAwMFAcOYs64x8zMB7qvRzoT34Cn39uZfmPSvnpbYPIjcnlO8O/02vn
71EmE5x99tc2d6mXh8WiA86ll+ry/W9+o0sl7e165Zvrr9clCXHcoqN119WzztKP/Tt3Ubmkijm1
BXzyqYnf/EbngjuDQ2c1U2am7jPQ3Kwba08GMTG6VvOADjj4fHpE+6ZNurZzwQLdP2LZMv31LCzU
1cTZ2brkkZ+/v8dYbGyw3knf06dKCMFiMuklHhMSgGc2c6nLifs7bq4aeVWwk9Y3dfa/fOEF3Yr6
0Ud6foiZM/XILtD1ILfdplsKa2v1r1Ecm+efx/zww2RUVnJtVBTXxsbC986ldfhYVpjG8llFDs8+
a+Kjj3Sjrcejd0tI0P0Chg3Tde1pafrxjh3632C1Bvdt9SSLRV/ss7N1c9ddd+ntgYCeGn3bNl09
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
lO8TNuBMAAAAAElFTkSuQmCC
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>What can we see from this?  Nine of the 10 repetitions have a final average payoff between 10 and 35. So a price around \$13 still seems reasonable. One outlier has an average payoff just over 100, so if you are feeling lucky you might be willing to pay some amount between \$13 and \$30.</p>
<h1 id="Conclusion">Conclusion<a class="anchor-link" href="#Conclusion">&#182;</a></h1><p>We've seen how to manage probability paradoxes.  Just be explicit about what the problem says, and then methodical about defining the sample space, and finally be careful in counting the number of outcomes in the numerator and denominator. Easy as 1-2-3. But the bigger lesson is: treat those around you as reasonable people, and when they have different opinons, try to discover what problem they are solving.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[79]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span class="n">P</span><span class="p">({</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span><span class="o">.</span><span class="n">__contains__</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">Out[79]:</div>


<div class="output_text output_subarea output_execute_result">
<pre>Fraction(1, 3)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">

</div>
</div>
</div>
    </div>
  </div>


    <div class="back-to-top hidden-print text-center">
      <a href="#">Back to top</a>
    </div>

    
      <footer class="footer hidden-print col-md-12">
        <div class="col-md-4">
          <p>
            This web site does not host notebooks, it only renders notebooks
            available on other websites.
          </p>
        </div>

        <div class="col-md-4">
          <p>
            Delivered by <a href="http://www.fastly.com/">Fastly</a>, 
            Rendered by <a href="https://developer.rackspace.com/?nbviewer=awesome">Rackspace</a>
          </p>
          <p>
            nbviewer GitHub <a href="https://github.com/jupyter/nbviewer">repository</a>.
          </p>
        </div>

        <div class="col-md-4">
          
  
            
              <p>
                nbviewer version:
                <a href="https://github.com/jupyter/nbviewer/commit/03d6df082a04afe885eb1a7dd6dcd25b45a89181">
                  03d6df0
                </a>
              </p>
            
          
  
  <p class="text-muted">
    IPython version: 4.0.0
    
  </p>
  

          
  
  
  <p class="text-muted">
    Rendered
    <span class='date' data-date='Tue, 06 Oct 2015 11:45:35 UTC' title='Tue, 06 Oct 2015 11:45:35 UTC'>(Tue, 06 Oct 2015 11:45:35 UTC)</span>
  </p>
  

        </div>
      </footer>
    

  </div>

  <script src="/static/components/bootstrap/js/bootstrap.min.js"></script>
  <script src="/static/components/headroom.js/dist/headroom.min.js"></script>
  <script src="/static/components/headroom.js/dist/jQuery.headroom.min.js"></script>

  
  
  <script>
    $(function(){ $("#menubar").headroom({
      tolerance: 5,
      offset: 205,
      classes: {
        initial: "animated",
        pinned: "slideInDown",
        unpinned: "slideOutUp"
      }
    })});
  </script>


  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-38683231-2', 'auto');
    ga('send', 'pageview');
  </script>
  <script>
      var update_date  = function(){
          var str = window.moment($('.date').data('date')).fromNow();
          $('.date').text(str);
      }
      setInterval(update_date , 61*1000);
      $(update_date);
  </script>
  <!--NEW RELIC Stop Perf Measurement-->
  
  <!--NEW RELIC End-->
</body>
</html>